/*! Wowchemy v5.3.0 | https://wowchemy.com/ */
/*! Copyright 2016-present George Cushen (https://georgecushen.com/) */
/*! License: https://github.com/wowchemy/wowchemy-hugo-themes/blob/main/LICENSE.md */

;
(() => {
  // <stdin>
  (() => {
    var _extends = Object.assign || function(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    var isSupported = function isSupported2(node) {
      return node.tagName === "IMG";
    };
    var isNodeList = function isNodeList2(selector) {
      return NodeList.prototype.isPrototypeOf(selector);
    };
    var isNode = function isNode2(selector) {
      return selector && selector.nodeType === 1;
    };
    var isSvg = function isSvg2(image) {
      var source = image.currentSrc || image.src;
      return source.substr(-4).toLowerCase() === ".svg";
    };
    var getImagesFromSelector = function getImagesFromSelector2(selector) {
      try {
        if (Array.isArray(selector)) {
          return selector.filter(isSupported);
        }
        if (isNodeList(selector)) {
          return [].slice.call(selector).filter(isSupported);
        }
        if (isNode(selector)) {
          return [selector].filter(isSupported);
        }
        if (typeof selector === "string") {
          return [].slice.call(document.querySelectorAll(selector)).filter(isSupported);
        }
        return [];
      } catch (err) {
        throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom");
      }
    };
    var createOverlay = function createOverlay2(background) {
      var overlay = document.createElement("div");
      overlay.classList.add("medium-zoom-overlay");
      overlay.style.background = background;
      return overlay;
    };
    var cloneTarget = function cloneTarget2(template) {
      var _template$getBounding = template.getBoundingClientRect(), top = _template$getBounding.top, left = _template$getBounding.left, width = _template$getBounding.width, height = _template$getBounding.height;
      var clone = template.cloneNode();
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;
      clone.removeAttribute("id");
      clone.style.position = "absolute";
      clone.style.top = top + scrollTop + "px";
      clone.style.left = left + scrollLeft + "px";
      clone.style.width = width + "px";
      clone.style.height = height + "px";
      clone.style.transform = "";
      return clone;
    };
    var createCustomEvent = function createCustomEvent2(type, params) {
      var eventParams = _extends({
        bubbles: false,
        cancelable: false,
        detail: void 0
      }, params);
      if (typeof window.CustomEvent === "function") {
        return new CustomEvent(type, eventParams);
      }
      var customEvent = document.createEvent("CustomEvent");
      customEvent.initCustomEvent(type, eventParams.bubbles, eventParams.cancelable, eventParams.detail);
      return customEvent;
    };
    var mediumZoomEsm = function mediumZoom(selector) {
      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      var Promise2 = window.Promise || function Promise3(fn) {
        function noop() {
        }
        fn(noop, noop);
      };
      var _handleClick = function _handleClick2(event) {
        var target = event.target;
        if (target === overlay) {
          close();
          return;
        }
        if (images.indexOf(target) === -1) {
          return;
        }
        toggle({ target });
      };
      var _handleScroll = function _handleScroll2() {
        if (isAnimating || !active.original) {
          return;
        }
        var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        if (Math.abs(scrollTop - currentScroll) > zoomOptions.scrollOffset) {
          setTimeout(close, 150);
        }
      };
      var _handleKeyUp = function _handleKeyUp2(event) {
        var key = event.key || event.keyCode;
        if (key === "Escape" || key === "Esc" || key === 27) {
          close();
        }
      };
      var update = function update2() {
        var options2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        var newOptions = options2;
        if (options2.background) {
          overlay.style.background = options2.background;
        }
        if (options2.container && options2.container instanceof Object) {
          newOptions.container = _extends({}, zoomOptions.container, options2.container);
        }
        if (options2.template) {
          var template = isNode(options2.template) ? options2.template : document.querySelector(options2.template);
          newOptions.template = template;
        }
        zoomOptions = _extends({}, zoomOptions, newOptions);
        images.forEach(function(image) {
          image.dispatchEvent(createCustomEvent("medium-zoom:update", {
            detail: { zoom }
          }));
        });
        return zoom;
      };
      var clone = function clone2() {
        var options2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        return mediumZoomEsm(_extends({}, zoomOptions, options2));
      };
      var attach = function attach2() {
        for (var _len = arguments.length, selectors = Array(_len), _key = 0; _key < _len; _key++) {
          selectors[_key] = arguments[_key];
        }
        var newImages = selectors.reduce(function(imagesAccumulator, currentSelector) {
          return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));
        }, []);
        newImages.filter(function(newImage) {
          return images.indexOf(newImage) === -1;
        }).forEach(function(newImage) {
          images.push(newImage);
          newImage.classList.add("medium-zoom-image");
        });
        eventListeners.forEach(function(_ref) {
          var type = _ref.type, listener = _ref.listener, options2 = _ref.options;
          newImages.forEach(function(image) {
            image.addEventListener(type, listener, options2);
          });
        });
        return zoom;
      };
      var detach = function detach2() {
        for (var _len2 = arguments.length, selectors = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          selectors[_key2] = arguments[_key2];
        }
        if (active.zoomed) {
          close();
        }
        var imagesToDetach = selectors.length > 0 ? selectors.reduce(function(imagesAccumulator, currentSelector) {
          return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));
        }, []) : images;
        imagesToDetach.forEach(function(image) {
          image.classList.remove("medium-zoom-image");
          image.dispatchEvent(createCustomEvent("medium-zoom:detach", {
            detail: { zoom }
          }));
        });
        images = images.filter(function(image) {
          return imagesToDetach.indexOf(image) === -1;
        });
        return zoom;
      };
      var on = function on2(type, listener) {
        var options2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
        images.forEach(function(image) {
          image.addEventListener("medium-zoom:" + type, listener, options2);
        });
        eventListeners.push({ type: "medium-zoom:" + type, listener, options: options2 });
        return zoom;
      };
      var off = function off2(type, listener) {
        var options2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
        images.forEach(function(image) {
          image.removeEventListener("medium-zoom:" + type, listener, options2);
        });
        eventListeners = eventListeners.filter(function(eventListener) {
          return !(eventListener.type === "medium-zoom:" + type && eventListener.listener.toString() === listener.toString());
        });
        return zoom;
      };
      var open = function open2() {
        var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, target = _ref2.target;
        var _animate = function _animate2() {
          var container = {
            width: document.documentElement.clientWidth,
            height: document.documentElement.clientHeight,
            left: 0,
            top: 0,
            right: 0,
            bottom: 0
          };
          var viewportWidth = void 0;
          var viewportHeight = void 0;
          if (zoomOptions.container) {
            if (zoomOptions.container instanceof Object) {
              container = _extends({}, container, zoomOptions.container);
              viewportWidth = container.width - container.left - container.right - zoomOptions.margin * 2;
              viewportHeight = container.height - container.top - container.bottom - zoomOptions.margin * 2;
            } else {
              var zoomContainer = isNode(zoomOptions.container) ? zoomOptions.container : document.querySelector(zoomOptions.container);
              var _zoomContainer$getBou = zoomContainer.getBoundingClientRect(), _width = _zoomContainer$getBou.width, _height = _zoomContainer$getBou.height, _left = _zoomContainer$getBou.left, _top = _zoomContainer$getBou.top;
              container = _extends({}, container, {
                width: _width,
                height: _height,
                left: _left,
                top: _top
              });
            }
          }
          viewportWidth = viewportWidth || container.width - zoomOptions.margin * 2;
          viewportHeight = viewportHeight || container.height - zoomOptions.margin * 2;
          var zoomTarget = active.zoomedHd || active.original;
          var naturalWidth = isSvg(zoomTarget) ? viewportWidth : zoomTarget.naturalWidth || viewportWidth;
          var naturalHeight = isSvg(zoomTarget) ? viewportHeight : zoomTarget.naturalHeight || viewportHeight;
          var _zoomTarget$getBoundi = zoomTarget.getBoundingClientRect(), top = _zoomTarget$getBoundi.top, left = _zoomTarget$getBoundi.left, width = _zoomTarget$getBoundi.width, height = _zoomTarget$getBoundi.height;
          var scaleX = Math.min(naturalWidth, viewportWidth) / width;
          var scaleY = Math.min(naturalHeight, viewportHeight) / height;
          var scale = Math.min(scaleX, scaleY);
          var translateX = (-left + (viewportWidth - width) / 2 + zoomOptions.margin + container.left) / scale;
          var translateY = (-top + (viewportHeight - height) / 2 + zoomOptions.margin + container.top) / scale;
          var transform = "scale(" + scale + ") translate3d(" + translateX + "px, " + translateY + "px, 0)";
          active.zoomed.style.transform = transform;
          if (active.zoomedHd) {
            active.zoomedHd.style.transform = transform;
          }
        };
        return new Promise2(function(resolve) {
          if (target && images.indexOf(target) === -1) {
            resolve(zoom);
            return;
          }
          var _handleOpenEnd = function _handleOpenEnd2() {
            isAnimating = false;
            active.zoomed.removeEventListener("transitionend", _handleOpenEnd2);
            active.original.dispatchEvent(createCustomEvent("medium-zoom:opened", {
              detail: { zoom }
            }));
            resolve(zoom);
          };
          if (active.zoomed) {
            resolve(zoom);
            return;
          }
          if (target) {
            active.original = target;
          } else if (images.length > 0) {
            var _images = images;
            active.original = _images[0];
          } else {
            resolve(zoom);
            return;
          }
          active.original.dispatchEvent(createCustomEvent("medium-zoom:open", {
            detail: { zoom }
          }));
          scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
          isAnimating = true;
          active.zoomed = cloneTarget(active.original);
          document.body.appendChild(overlay);
          if (zoomOptions.template) {
            var template = isNode(zoomOptions.template) ? zoomOptions.template : document.querySelector(zoomOptions.template);
            active.template = document.createElement("div");
            active.template.appendChild(template.content.cloneNode(true));
            document.body.appendChild(active.template);
          }
          document.body.appendChild(active.zoomed);
          window.requestAnimationFrame(function() {
            document.body.classList.add("medium-zoom--opened");
          });
          active.original.classList.add("medium-zoom-image--hidden");
          active.zoomed.classList.add("medium-zoom-image--opened");
          active.zoomed.addEventListener("click", close);
          active.zoomed.addEventListener("transitionend", _handleOpenEnd);
          if (active.original.getAttribute("data-zoom-src")) {
            active.zoomedHd = active.zoomed.cloneNode();
            active.zoomedHd.removeAttribute("srcset");
            active.zoomedHd.removeAttribute("sizes");
            active.zoomedHd.src = active.zoomed.getAttribute("data-zoom-src");
            active.zoomedHd.onerror = function() {
              clearInterval(getZoomTargetSize);
              console.warn("Unable to reach the zoom image target " + active.zoomedHd.src);
              active.zoomedHd = null;
              _animate();
            };
            var getZoomTargetSize = setInterval(function() {
              if (active.zoomedHd.complete) {
                clearInterval(getZoomTargetSize);
                active.zoomedHd.classList.add("medium-zoom-image--opened");
                active.zoomedHd.addEventListener("click", close);
                document.body.appendChild(active.zoomedHd);
                _animate();
              }
            }, 10);
          } else if (active.original.hasAttribute("srcset")) {
            active.zoomedHd = active.zoomed.cloneNode();
            active.zoomedHd.removeAttribute("sizes");
            active.zoomedHd.removeAttribute("loading");
            var loadEventListener = active.zoomedHd.addEventListener("load", function() {
              active.zoomedHd.removeEventListener("load", loadEventListener);
              active.zoomedHd.classList.add("medium-zoom-image--opened");
              active.zoomedHd.addEventListener("click", close);
              document.body.appendChild(active.zoomedHd);
              _animate();
            });
          } else {
            _animate();
          }
        });
      };
      var close = function close2() {
        return new Promise2(function(resolve) {
          if (isAnimating || !active.original) {
            resolve(zoom);
            return;
          }
          var _handleCloseEnd = function _handleCloseEnd2() {
            active.original.classList.remove("medium-zoom-image--hidden");
            document.body.removeChild(active.zoomed);
            if (active.zoomedHd) {
              document.body.removeChild(active.zoomedHd);
            }
            document.body.removeChild(overlay);
            active.zoomed.classList.remove("medium-zoom-image--opened");
            if (active.template) {
              document.body.removeChild(active.template);
            }
            isAnimating = false;
            active.zoomed.removeEventListener("transitionend", _handleCloseEnd2);
            active.original.dispatchEvent(createCustomEvent("medium-zoom:closed", {
              detail: { zoom }
            }));
            active.original = null;
            active.zoomed = null;
            active.zoomedHd = null;
            active.template = null;
            resolve(zoom);
          };
          isAnimating = true;
          document.body.classList.remove("medium-zoom--opened");
          active.zoomed.style.transform = "";
          if (active.zoomedHd) {
            active.zoomedHd.style.transform = "";
          }
          if (active.template) {
            active.template.style.transition = "opacity 150ms";
            active.template.style.opacity = 0;
          }
          active.original.dispatchEvent(createCustomEvent("medium-zoom:close", {
            detail: { zoom }
          }));
          active.zoomed.addEventListener("transitionend", _handleCloseEnd);
        });
      };
      var toggle = function toggle2() {
        var _ref3 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, target = _ref3.target;
        if (active.original) {
          return close();
        }
        return open({ target });
      };
      var getOptions = function getOptions2() {
        return zoomOptions;
      };
      var getImages = function getImages2() {
        return images;
      };
      var getZoomedImage = function getZoomedImage2() {
        return active.original;
      };
      var images = [];
      var eventListeners = [];
      var isAnimating = false;
      var scrollTop = 0;
      var zoomOptions = options;
      var active = {
        original: null,
        zoomed: null,
        zoomedHd: null,
        template: null
        // If the selector is omitted, it's replaced by the options
      };
      if (Object.prototype.toString.call(selector) === "[object Object]") {
        zoomOptions = selector;
      } else if (selector || typeof selector === "string") {
        attach(selector);
      }
      zoomOptions = _extends({
        margin: 0,
        background: "#fff",
        scrollOffset: 40,
        container: null,
        template: null
      }, zoomOptions);
      var overlay = createOverlay(zoomOptions.background);
      document.addEventListener("click", _handleClick);
      document.addEventListener("keyup", _handleKeyUp);
      document.addEventListener("scroll", _handleScroll);
      window.addEventListener("resize", close);
      var zoom = {
        open,
        close,
        toggle,
        update,
        clone,
        attach,
        detach,
        on,
        off,
        getOptions,
        getImages,
        getZoomedImage
      };
      return zoom;
    };
    function styleInject(css2, ref) {
      if (ref === void 0)
        ref = {};
      var insertAt = ref.insertAt;
      if (!css2 || typeof document === "undefined") {
        return;
      }
      var head = document.head || document.getElementsByTagName("head")[0];
      var style = document.createElement("style");
      style.type = "text/css";
      if (insertAt === "top") {
        if (head.firstChild) {
          head.insertBefore(style, head.firstChild);
        } else {
          head.appendChild(style);
        }
      } else {
        head.appendChild(style);
      }
      if (style.styleSheet) {
        style.styleSheet.cssText = css2;
      } else {
        style.appendChild(document.createTextNode(css2));
      }
    }
    var css = ".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";
    styleInject(css);
    var medium_zoom_esm_default = mediumZoomEsm;
    var codeHighlighting = true;
    var hugoEnvironment = "development";
    var searchEnabled = true;
    function fixMermaid(render = false) {
      let mermaids = [];
      [].push.apply(mermaids, document.getElementsByClassName("language-mermaid"));
      for (let i = 0; i < mermaids.length; i++) {
        let mermaidCodeElement = mermaids[i];
        let newElement = document.createElement("div");
        newElement.innerHTML = mermaidCodeElement.innerHTML;
        newElement.classList.add("mermaid");
        if (render) {
          window.mermaid.mermaidAPI.render(`mermaid-${i}`, newElement.textContent, function(svgCode) {
            newElement.innerHTML = svgCode;
          });
        }
        mermaidCodeElement.parentNode.replaceWith(newElement);
      }
      console.debug(`Processed ${mermaids.length} Mermaid code blocks`);
    }
    function scrollParentToChild(parent, child) {
      const parentRect = parent.getBoundingClientRect();
      const parentViewableArea = {
        height: parent.clientHeight,
        width: parent.clientWidth
      };
      const childRect = child.getBoundingClientRect();
      const isChildInView = childRect.top >= parentRect.top && childRect.bottom <= parentRect.top + parentViewableArea.height;
      if (!isChildInView) {
        parent.scrollTop = childRect.top + parent.scrollTop - parentRect.top;
      }
    }
    function fadeIn(element, duration = 600) {
      element.style.display = "";
      element.style.opacity = "0";
      let last = +/* @__PURE__ */ new Date();
      let tick = function() {
        element.style.opacity = (+element.style.opacity + (/* @__PURE__ */ new Date() - last) / duration).toString();
        last = +/* @__PURE__ */ new Date();
        if (+element.style.opacity < 1) {
          window.requestAnimationFrame && requestAnimationFrame(tick) || setTimeout(tick, 16);
        }
      };
      tick();
    }
    var body = document.body;
    function getThemeMode() {
      return parseInt(localStorage.getItem("wcTheme") || 2);
    }
    function canChangeTheme() {
      return Boolean(window.wc.darkLightEnabled);
    }
    function initThemeVariation() {
      if (!canChangeTheme()) {
        console.debug("User theming disabled.");
        return {
          isDarkTheme: window.wc.isSiteThemeDark,
          themeMode: window.wc.isSiteThemeDark ? 1 : 0
        };
      }
      console.debug("User theming enabled.");
      let isDarkTheme;
      let currentThemeMode = getThemeMode();
      console.debug(`User's theme variation: ${currentThemeMode}`);
      switch (currentThemeMode) {
        case 0:
          isDarkTheme = false;
          break;
        case 1:
          isDarkTheme = true;
          break;
        default:
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            isDarkTheme = true;
          } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
            isDarkTheme = false;
          } else {
            isDarkTheme = window.wc.isSiteThemeDark;
          }
          break;
      }
      if (isDarkTheme && !body.classList.contains("dark")) {
        console.debug("Applying Wowchemy dark theme");
        document.body.classList.add("dark");
      } else if (!isDarkTheme && body.classList.contains("dark")) {
        console.debug("Applying Wowchemy light theme");
        document.body.classList.remove("dark");
      }
      return {
        isDarkTheme,
        themeMode: currentThemeMode
      };
    }
    function changeThemeModeClick(newMode) {
      if (!canChangeTheme()) {
        console.debug("Cannot change theme - user theming disabled.");
        return;
      }
      let isDarkTheme;
      switch (newMode) {
        case 0:
          localStorage.setItem("wcTheme", "0");
          isDarkTheme = false;
          console.debug("User changed theme variation to Light.");
          break;
        case 1:
          localStorage.setItem("wcTheme", "1");
          isDarkTheme = true;
          console.debug("User changed theme variation to Dark.");
          break;
        default:
          localStorage.setItem("wcTheme", "2");
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            isDarkTheme = true;
          } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
            isDarkTheme = false;
          } else {
            isDarkTheme = window.wc.isSiteThemeDark;
          }
          console.debug("User changed theme variation to Auto.");
          break;
      }
      renderThemeVariation(isDarkTheme, newMode);
    }
    function showActiveTheme(mode) {
      let linkLight2 = document.querySelector(".js-set-theme-light");
      let linkDark2 = document.querySelector(".js-set-theme-dark");
      let linkAuto2 = document.querySelector(".js-set-theme-auto");
      if (linkLight2 === null) {
        return;
      }
      switch (mode) {
        case 0:
          linkLight2.classList.add("dropdown-item-active");
          linkDark2.classList.remove("dropdown-item-active");
          linkAuto2.classList.remove("dropdown-item-active");
          break;
        case 1:
          linkLight2.classList.remove("dropdown-item-active");
          linkDark2.classList.add("dropdown-item-active");
          linkAuto2.classList.remove("dropdown-item-active");
          break;
        default:
          linkLight2.classList.remove("dropdown-item-active");
          linkDark2.classList.remove("dropdown-item-active");
          linkAuto2.classList.add("dropdown-item-active");
          break;
      }
    }
    function renderThemeVariation(isDarkTheme, themeMode = 2, init = false) {
      const codeHlLight = document.querySelector("link[title=hl-light]");
      const codeHlDark = document.querySelector("link[title=hl-dark]");
      const codeHlEnabled = codeHlLight !== null || codeHlDark !== null;
      const diagramEnabled = document.querySelector("script[title=mermaid]") !== null;
      showActiveTheme(themeMode);
      const themeChangeEvent = new CustomEvent("wcThemeChange", { detail: { isDarkTheme: () => isDarkTheme } });
      document.dispatchEvent(themeChangeEvent);
      if (!init) {
        if (isDarkTheme === false && !body.classList.contains("dark") || isDarkTheme === true && body.classList.contains("dark")) {
          return;
        }
      }
      if (isDarkTheme === false) {
        if (!init) {
          Object.assign(document.body.style, { opacity: 0, visibility: "visible" });
          fadeIn(document.body, 600);
        }
        body.classList.remove("dark");
        if (codeHlEnabled) {
          console.debug("Setting HLJS theme to light");
          if (codeHlLight) {
            codeHlLight.disabled = false;
          }
          if (codeHlDark) {
            codeHlDark.disabled = true;
          }
        }
        if (diagramEnabled) {
          console.debug("Initializing Mermaid with light theme");
          if (init) {
            window.mermaid.initialize({ startOnLoad: false, theme: "default", securityLevel: "loose" });
            fixMermaid(true);
          } else {
            location.reload();
          }
        }
      } else if (isDarkTheme === true) {
        if (!init) {
          Object.assign(document.body.style, { opacity: 0, visibility: "visible" });
          fadeIn(document.body, 600);
        }
        body.classList.add("dark");
        if (codeHlEnabled) {
          console.debug("Setting HLJS theme to dark");
          if (codeHlLight) {
            codeHlLight.disabled = true;
          }
          if (codeHlDark) {
            codeHlDark.disabled = false;
          }
        }
        if (diagramEnabled) {
          console.debug("Initializing Mermaid with dark theme");
          if (init) {
            window.mermaid.initialize({ startOnLoad: false, theme: "dark", securityLevel: "loose" });
            fixMermaid(true);
          } else {
            location.reload();
          }
        }
      }
    }
    function onMediaQueryListEvent(event) {
      if (!canChangeTheme()) {
        return;
      }
      const darkModeOn = event.matches;
      console.debug(`OS dark mode preference changed to ${darkModeOn ? "\u{1F312} on" : "\u2600\uFE0F off"}.`);
      let currentThemeVariation = getThemeMode();
      let isDarkTheme;
      if (currentThemeVariation === 2) {
        if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          isDarkTheme = true;
        } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
          isDarkTheme = false;
        } else {
          isDarkTheme = window.wc.isSiteThemeDark;
        }
        renderThemeVariation(isDarkTheme, currentThemeVariation);
      }
    }
    console.debug(`Environment: ${hugoEnvironment}`);
    function getNavBarHeight() {
      let navbar = document.getElementById("navbar-main");
      let navbarHeight = navbar ? navbar.getBoundingClientRect().height : 0;
      console.debug("Navbar height: " + navbarHeight);
      return navbarHeight;
    }
    function scrollToAnchor(target, duration = 0) {
      target = typeof target === "undefined" || typeof target === "object" ? decodeURIComponent(window.location.hash) : target;
      if ($(target).length) {
        target = "#" + $.escapeSelector(target.substring(1));
        let elementOffset = Math.ceil($(target).offset().top - getNavBarHeight());
        $("body").addClass("scrolling");
        $("html, body").animate(
          {
            scrollTop: elementOffset
          },
          duration,
          function() {
            $("body").removeClass("scrolling");
          }
        );
      } else {
        console.debug("Cannot scroll to target `#" + target + "`. ID not found!");
      }
    }
    function fixScrollspy() {
      let $body = $("body");
      let data = $body.data("bs.scrollspy");
      if (data) {
        data._config.offset = getNavBarHeight();
        $body.data("bs.scrollspy", data);
        $body.scrollspy("refresh");
      }
    }
    function removeQueryParamsFromUrl() {
      if (window.history.replaceState) {
        let urlWithoutSearchParams = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.hash;
        window.history.replaceState({ path: urlWithoutSearchParams }, "", urlWithoutSearchParams);
      }
    }
    window.addEventListener("hashchange", scrollToAnchor);
    $("#navbar-main li.nav-item a.nav-link, .js-scroll").on("click", function(event) {
      let hash = this.hash;
      if (this.pathname === window.location.pathname && hash && $(hash).length && $(".js-widget-page").length > 0) {
        event.preventDefault();
        let elementOffset = Math.ceil($(hash).offset().top - getNavBarHeight());
        $("html, body").animate(
          {
            scrollTop: elementOffset
          },
          800
        );
      }
    });
    $(document).on("click", ".navbar-collapse.show", function(e) {
      let targetElement = $(e.target).is("a") ? $(e.target) : $(e.target).parent();
      if (targetElement.is("a") && targetElement.attr("class") != "dropdown-toggle") {
        $(this).collapse("hide");
      }
    });
    var pubFilters = {};
    var searchRegex;
    var filterValues;
    var $grid_pubs = $("#container-publications");
    if ($grid_pubs.length) {
      $grid_pubs.isotope({
        itemSelector: ".isotope-item",
        percentPosition: true,
        masonry: {
          // Use Bootstrap compatible grid layout.
          columnWidth: ".grid-sizer"
        },
        filter: function() {
          let $this = $(this);
          let searchResults = searchRegex ? $this.text().match(searchRegex) : true;
          let filterResults = filterValues ? $this.is(filterValues) : true;
          return searchResults && filterResults;
        }
      });
      let $quickSearch = $(".filter-search").keyup(
        debounce(function() {
          searchRegex = new RegExp($quickSearch.val(), "gi");
          $grid_pubs.isotope();
        })
      );
      $(".pub-filters").on("change", function() {
        let $this = $(this);
        let filterGroup = $this[0].getAttribute("data-filter-group");
        pubFilters[filterGroup] = this.value;
        filterValues = concatValues(pubFilters);
        $grid_pubs.isotope();
        if (filterGroup === "pubtype") {
          let url = $(this).val();
          if (url.substr(0, 9) === ".pubtype-") {
            window.location.hash = url.substr(9);
          } else {
            window.location.hash = "";
          }
        }
      });
    }
    function debounce(fn, threshold) {
      let timeout;
      threshold = threshold || 100;
      return function debounced() {
        clearTimeout(timeout);
        let args = arguments;
        let _this = this;
        function delayed() {
          fn.apply(_this, args);
        }
        timeout = setTimeout(delayed, threshold);
      };
    }
    function concatValues(obj) {
      let value = "";
      for (let prop in obj) {
        value += obj[prop];
      }
      return value;
    }
    function filter_publications() {
      if (!$grid_pubs.length)
        return;
      let urlHash = window.location.hash.replace("#", "");
      let filterValue = "*";
      if (urlHash != "" && !isNaN(urlHash)) {
        filterValue = ".pubtype-" + urlHash;
      }
      let filterGroup = "pubtype";
      pubFilters[filterGroup] = filterValue;
      filterValues = concatValues(pubFilters);
      $grid_pubs.isotope();
      $(".pubtype-select").val(filterValue);
    }
    function initMap() {
      if ($("#map").length) {
        let map_provider = $("#map-provider").val();
        let lat = $("#map-lat").val();
        let lng = $("#map-lng").val();
        let zoom = parseInt($("#map-zoom").val());
        let address = $("#map-dir").val();
        let api_key = $("#map-api-key").val();
        if (map_provider === "google") {
          let map = new GMaps({
            div: "#map",
            lat,
            lng,
            zoom,
            zoomControl: true,
            zoomControlOpt: {
              style: "SMALL",
              position: "TOP_LEFT"
            },
            streetViewControl: false,
            mapTypeControl: false,
            gestureHandling: "cooperative"
          });
          map.addMarker({
            lat,
            lng,
            click: function() {
              let url = "https://www.google.com/maps/place/" + encodeURIComponent(address) + "/@" + lat + "," + lng + "/";
              window.open(url, "_blank");
            },
            title: address
          });
        } else {
          let map = new L.map("map").setView([lat, lng], zoom);
          if (map_provider === "mapbox" && api_key.length) {
            L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
              attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xA9 <a href="http://mapbox.com">Mapbox</a>',
              tileSize: 512,
              maxZoom: 18,
              zoomOffset: -1,
              id: "mapbox/streets-v11",
              accessToken: api_key
            }).addTo(map);
          } else {
            L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
              maxZoom: 19,
              attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(map);
          }
          let marker = L.marker([lat, lng]).addTo(map);
          let url = lat + "," + lng + "#map=" + zoom + "/" + lat + "/" + lng + "&layers=N";
          marker.bindPopup(
            address + '<p><a href="https://www.openstreetmap.org/directions?engine=osrm_car&route=' + url + '">Routing via OpenStreetMap</a></p>'
          );
        }
      }
    }
    function printLatestRelease(selector, repo) {
      if (hugoEnvironment === "production") {
        $.getJSON("https://api.github.com/repos/" + repo + "/tags").done(function(json) {
          let release = json[0];
          $(selector).append(" " + release.name);
        }).fail(function(jqxhr, textStatus, error) {
          let err = textStatus + ", " + error;
          console.log("Request Failed: " + err);
        });
      }
    }
    function toggleSearchDialog() {
      if ($("body").hasClass("searching")) {
        $("[id=search-query]").blur();
        $("body").removeClass("searching compensate-for-scrollbar");
        removeQueryParamsFromUrl();
        $("#fancybox-style-noscroll").remove();
      } else {
        if (!$("#fancybox-style-noscroll").length && document.body.scrollHeight > window.innerHeight) {
          $("head").append(
            '<style id="fancybox-style-noscroll">.compensate-for-scrollbar{margin-right:' + (window.innerWidth - document.documentElement.clientWidth) + "px;}</style>"
          );
          $("body").addClass("compensate-for-scrollbar");
        }
        $("body").addClass("searching");
        $(".search-results").css({ opacity: 0, visibility: "visible" }).animate({ opacity: 1 }, 200);
        $("#search-query").focus();
      }
    }
    function normalizeCarouselSlideHeights() {
      $(".carousel").each(function() {
        let items = $(".carousel-item", this);
        items.css("min-height", 0);
        let maxHeight = Math.max.apply(
          null,
          items.map(function() {
            return $(this).outerHeight();
          }).get()
        );
        items.css("min-height", maxHeight + "px");
      });
    }
    function fixHugoOutput() {
      $("#TableOfContents").addClass("nav flex-column");
      $("#TableOfContents li").addClass("nav-item");
      $("#TableOfContents li a").addClass("nav-link");
      $("input[type='checkbox'][disabled]").parents("ul").addClass("task-list");
    }
    function getSiblings(elem) {
      return Array.prototype.filter.call(elem.parentNode.children, function(sibling) {
        return sibling !== elem;
      });
    }
    $(document).ready(function() {
      fixHugoOutput();
      let { isDarkTheme, themeMode } = initThemeVariation();
      renderThemeVariation(isDarkTheme, themeMode, true);
      if (codeHighlighting) {
        hljs.initHighlighting();
      }
      let child = document.querySelector(".docs-links .active");
      let parent = document.querySelector(".docs-links");
      if (child && parent) {
        scrollParentToChild(parent, child);
      }
    });
    $(window).on("load", function() {
      fixScrollspy();
      let isotopeInstances = document.querySelectorAll(".projects-container");
      let isotopeInstancesCount = isotopeInstances.length;
      if (window.location.hash && isotopeInstancesCount === 0) {
        scrollToAnchor(decodeURIComponent(window.location.hash), 0);
      }
      let child = document.querySelector(".docs-toc .nav-link.active");
      let parent = document.querySelector(".docs-toc");
      if (child && parent) {
        scrollParentToChild(parent, child);
      }
      let zoomOptions = {};
      if (document.body.classList.contains("dark")) {
        zoomOptions.background = "rgba(0,0,0,0.9)";
      } else {
        zoomOptions.background = "rgba(255,255,255,0.9)";
      }
      medium_zoom_esm_default("[data-zoomable]", zoomOptions);
      let isotopeCounter = 0;
      isotopeInstances.forEach(function(isotopeInstance, index) {
        console.debug(`Loading Isotope instance ${index}`);
        let iso;
        let isoSection = isotopeInstance.closest("section");
        let layout = "";
        if (isoSection.querySelector(".isotope").classList.contains("js-layout-row")) {
          layout = "fitRows";
        } else {
          layout = "masonry";
        }
        let defaultFilter = isoSection.querySelector(".default-project-filter");
        let filterText = "*";
        if (defaultFilter !== null) {
          filterText = defaultFilter.textContent;
        }
        console.debug(`Default Isotope filter: ${filterText}`);
        imagesLoaded(isotopeInstance, function() {
          iso = new Isotope(isotopeInstance, {
            itemSelector: ".isotope-item",
            layoutMode: layout,
            masonry: {
              gutter: 20
            },
            filter: filterText
          });
          let isoFilterButtons = isoSection.querySelectorAll(".project-filters a");
          isoFilterButtons.forEach(
            (button) => button.addEventListener("click", (e) => {
              e.preventDefault();
              let selector = button.getAttribute("data-filter");
              console.debug(`Updating Isotope filter to ${selector}`);
              iso.arrange({ filter: selector });
              button.classList.remove("active");
              button.classList.add("active");
              let buttonSiblings = getSiblings(button);
              buttonSiblings.forEach((buttonSibling) => {
                buttonSibling.classList.remove("active");
                buttonSibling.classList.remove("all");
              });
            })
          );
          incrementIsotopeCounter();
        });
      });
      function incrementIsotopeCounter() {
        isotopeCounter++;
        if (isotopeCounter === isotopeInstancesCount) {
          console.debug(`All Portfolio Isotope instances loaded.`);
          if (window.location.hash) {
            scrollToAnchor(decodeURIComponent(window.location.hash), 0);
          }
        }
      }
      if ($(".pub-filters-select")) {
        filter_publications();
      }
      $(".js-cite-modal").click(function(e) {
        e.preventDefault();
        let filename = $(this).attr("data-filename");
        let modal = $("#modal");
        modal.find(".modal-body code").load(filename, function(response, status, xhr) {
          if (status == "error") {
            let msg = "Error: ";
            $("#modal-error").html(msg + xhr.status + " " + xhr.statusText);
          } else {
            $(".js-download-cite").attr("href", filename);
          }
        });
        modal.modal("show");
      });
      $(".js-copy-cite").click(function(e) {
        e.preventDefault();
        let range = document.createRange();
        let code_node = document.querySelector("#modal .modal-body");
        range.selectNode(code_node);
        window.getSelection().addRange(range);
        try {
          document.execCommand("copy");
        } catch (e2) {
          console.log("Error: citation copy failed.");
        }
        window.getSelection().removeRange(range);
      });
      initMap();
      let githubReleaseSelector = ".js-github-release";
      if ($(githubReleaseSelector).length > 0) {
        printLatestRelease(githubReleaseSelector, $(githubReleaseSelector).data("repo"));
      }
      document.addEventListener("keyup", (event) => {
        if (event.code === "Escape") {
          const body2 = document.body;
          if (body2.classList.contains("searching")) {
            toggleSearchDialog();
          }
        }
        if (event.key === "/") {
          let focusedElement = document.hasFocus() && document.activeElement !== document.body && document.activeElement !== document.documentElement && document.activeElement || null;
          let isInputFocused = focusedElement instanceof HTMLInputElement || focusedElement instanceof HTMLTextAreaElement;
          if (searchEnabled && !isInputFocused) {
            event.preventDefault();
            toggleSearchDialog();
          }
        }
      });
      if (searchEnabled) {
        $(".js-search").click(function(e) {
          e.preventDefault();
          toggleSearchDialog();
        });
      }
      $('[data-toggle="tooltip"]').tooltip();
    });
    var linkLight = document.querySelector(".js-set-theme-light");
    var linkDark = document.querySelector(".js-set-theme-dark");
    var linkAuto = document.querySelector(".js-set-theme-auto");
    if (linkLight && linkDark && linkAuto) {
      linkLight.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(0);
      });
      linkDark.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(1);
      });
      linkAuto.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(2);
      });
    }
    var darkModeMediaQuery = window.matchMedia("(prefers-color-scheme: dark)");
    darkModeMediaQuery.addEventListener("change", (event) => {
      onMediaQueryListEvent(event);
    });
    window.addEventListener("load", normalizeCarouselSlideHeights);
    window.addEventListener("resize", normalizeCarouselSlideHeights);
    window.addEventListener("orientationchange", normalizeCarouselSlideHeights);
    $("body").on("mouseenter mouseleave", ".dropdown", function(e) {
      var dropdown = $(e.target).closest(".dropdown");
      var menu = $(".dropdown-menu", dropdown);
      dropdown.addClass("show");
      menu.addClass("show");
      setTimeout(function() {
        dropdown[dropdown.is(":hover") ? "addClass" : "removeClass"]("show");
        menu[dropdown.is(":hover") ? "addClass" : "removeClass"]("show");
      }, 300);
    });
    var resizeTimer;
    $(window).resize(function() {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(fixScrollspy, 200);
    });
  })();
  (() => {
    var content_type = { authors: "Authors", event: "Events", post: "Posts", project: "Projects", publication: "Publications", slides: "Slides" };
    var i18n = { no_results: "No results found", placeholder: "Search...", results: "results found" };
    var search_config = { indexURI: "/index.json", minLength: 1, threshold: 0.3 };
    var fuseOptions = {
      shouldSort: true,
      includeMatches: true,
      tokenize: true,
      threshold: search_config.threshold,
      // Set to ~0.3 for parsing diacritics and CJK languages.
      location: 0,
      distance: 100,
      maxPatternLength: 32,
      minMatchCharLength: search_config.minLength,
      // Set to 1 for parsing CJK languages.
      keys: [
        { name: "title", weight: 0.99 },
        { name: "summary", weight: 0.6 },
        { name: "authors", weight: 0.5 },
        { name: "content", weight: 0.2 },
        { name: "tags", weight: 0.5 },
        { name: "categories", weight: 0.5 }
      ]
    };
    var summaryLength = 60;
    function getSearchQuery(name) {
      return decodeURIComponent((location.search.split(name + "=")[1] || "").split("&")[0]).replace(/\+/g, " ");
    }
    function updateURL(url) {
      if (history.replaceState) {
        window.history.replaceState({ path: url }, "", url);
      }
    }
    function initSearch(force, fuse) {
      let query = $("#search-query").val();
      if (query.length < 1) {
        $("#search-hits").empty();
        $("#search-common-queries").show();
      }
      if (!force && query.length < fuseOptions.minMatchCharLength)
        return;
      $("#search-hits").empty();
      $("#search-common-queries").hide();
      searchAcademic(query, fuse);
      let newURL = window.location.protocol + "//" + window.location.host + window.location.pathname + "?q=" + encodeURIComponent(query) + window.location.hash;
      updateURL(newURL);
    }
    function searchAcademic(query, fuse) {
      let results = fuse.search(query);
      if (results.length > 0) {
        $("#search-hits").append('<h3 class="mt-0">' + results.length + " " + i18n.results + "</h3>");
        parseResults(query, results);
      } else {
        $("#search-hits").append('<div class="search-no-results">' + i18n.no_results + "</div>");
      }
    }
    function parseResults(query, results) {
      $.each(results, function(key, value) {
        let content_key = value.item.section;
        let content = "";
        let snippet = "";
        let snippetHighlights = [];
        if (["publication", "event"].includes(content_key)) {
          content = value.item.summary;
        } else {
          content = value.item.content;
        }
        if (fuseOptions.tokenize) {
          snippetHighlights.push(query);
        } else {
          $.each(value.matches, function(matchKey, matchValue) {
            if (matchValue.key == "content") {
              let start = matchValue.indices[0][0] - summaryLength > 0 ? matchValue.indices[0][0] - summaryLength : 0;
              let end = matchValue.indices[0][1] + summaryLength < content.length ? matchValue.indices[0][1] + summaryLength : content.length;
              snippet += content.substring(start, end);
              snippetHighlights.push(
                matchValue.value.substring(
                  matchValue.indices[0][0],
                  matchValue.indices[0][1] - matchValue.indices[0][0] + 1
                )
              );
            }
          });
        }
        if (snippet.length < 1) {
          snippet += value.item.summary;
        }
        let template = $("#search-hit-fuse-template").html();
        if (content_key in content_type) {
          content_key = content_type[content_key];
        }
        let templateData = {
          key,
          title: value.item.title,
          type: content_key,
          relpermalink: value.item.relpermalink,
          snippet
        };
        let output = render(template, templateData);
        $("#search-hits").append(output);
        $.each(snippetHighlights, function(hlKey, hlValue) {
          $("#summary-" + key).mark(hlValue);
        });
      });
    }
    function render(template, data) {
      let key, find, re;
      for (key in data) {
        find = "\\{\\{\\s*" + key + "\\s*\\}\\}";
        re = new RegExp(find, "g");
        template = template.replace(re, data[key]);
      }
      return template;
    }
    if (typeof Fuse === "function") {
      $.getJSON(search_config.indexURI, function(search_index) {
        let fuse = new Fuse(search_index, fuseOptions);
        let query = getSearchQuery("q");
        if (query) {
          $("body").addClass("searching");
          $(".search-results").css({ opacity: 0, visibility: "visible" }).animate({ opacity: 1 }, 200);
          $("#search-query").val(query);
          $("#search-query").focus();
          initSearch(true, fuse);
        }
        $("#search-query").keyup(function(e) {
          clearTimeout($.data(this, "searchTimer"));
          if (e.keyCode == 13) {
            initSearch(true, fuse);
          } else {
            $(this).data(
              "searchTimer",
              setTimeout(function() {
                initSearch(false, fuse);
              }, 250)
            );
          }
        });
      });
    }
  })();
})();
/*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiPHN0ZGluPiJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiKCgpID0+IHtcbiAgLy8gbnMtaHVnbzovdG1wL2h1Z29fY2FjaGVfdGVhbV92b2ljZS9tb2R1bGVzL2ZpbGVjYWNoZS9tb2R1bGVzL3BrZy9tb2QvZ2l0aHViLmNvbS93b3djaGVteS93b3djaGVteS1odWdvLW1vZHVsZXMvd293Y2hlbXkvdjVAdjUuMC4wLTIwMjExMDE3MjIyNjQwLTcyMDFhNGZhOGM0NC9hc3NldHMvanMvX3ZlbmRvci9tZWRpdW0tem9vbS5lc20uanNcbiAgdmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHZhciBpc1N1cHBvcnRlZCA9IGZ1bmN0aW9uIGlzU3VwcG9ydGVkMihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gXCJJTUdcIjtcbiAgfTtcbiAgdmFyIGlzTm9kZUxpc3QgPSBmdW5jdGlvbiBpc05vZGVMaXN0MihzZWxlY3Rvcikge1xuICAgIHJldHVybiBOb2RlTGlzdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihzZWxlY3Rvcik7XG4gIH07XG4gIHZhciBpc05vZGUgPSBmdW5jdGlvbiBpc05vZGUyKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yICYmIHNlbGVjdG9yLm5vZGVUeXBlID09PSAxO1xuICB9O1xuICB2YXIgaXNTdmcgPSBmdW5jdGlvbiBpc1N2ZzIoaW1hZ2UpIHtcbiAgICB2YXIgc291cmNlID0gaW1hZ2UuY3VycmVudFNyYyB8fCBpbWFnZS5zcmM7XG4gICAgcmV0dXJuIHNvdXJjZS5zdWJzdHIoLTQpLnRvTG93ZXJDYXNlKCkgPT09IFwiLnN2Z1wiO1xuICB9O1xuICB2YXIgZ2V0SW1hZ2VzRnJvbVNlbGVjdG9yID0gZnVuY3Rpb24gZ2V0SW1hZ2VzRnJvbVNlbGVjdG9yMihzZWxlY3Rvcikge1xuICAgIHRyeSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yLmZpbHRlcihpc1N1cHBvcnRlZCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNOb2RlTGlzdChzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoc2VsZWN0b3IpLmZpbHRlcihpc1N1cHBvcnRlZCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNOb2RlKHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gW3NlbGVjdG9yXS5maWx0ZXIoaXNTdXBwb3J0ZWQpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuZmlsdGVyKGlzU3VwcG9ydGVkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgcHJvdmlkZWQgc2VsZWN0b3IgaXMgaW52YWxpZC5cXG5FeHBlY3RzIGEgQ1NTIHNlbGVjdG9yLCBhIE5vZGUgZWxlbWVudCwgYSBOb2RlTGlzdCBvciBhbiBhcnJheS5cXG5TZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mcmFuY29pc2NoYWxpZm91ci9tZWRpdW0tem9vbVwiKTtcbiAgICB9XG4gIH07XG4gIHZhciBjcmVhdGVPdmVybGF5ID0gZnVuY3Rpb24gY3JlYXRlT3ZlcmxheTIoYmFja2dyb3VuZCkge1xuICAgIHZhciBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tem9vbS1vdmVybGF5XCIpO1xuICAgIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG4gICAgcmV0dXJuIG92ZXJsYXk7XG4gIH07XG4gIHZhciBjbG9uZVRhcmdldCA9IGZ1bmN0aW9uIGNsb25lVGFyZ2V0Mih0ZW1wbGF0ZSkge1xuICAgIHZhciBfdGVtcGxhdGUkZ2V0Qm91bmRpbmcgPSB0ZW1wbGF0ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdG9wID0gX3RlbXBsYXRlJGdldEJvdW5kaW5nLnRvcCwgbGVmdCA9IF90ZW1wbGF0ZSRnZXRCb3VuZGluZy5sZWZ0LCB3aWR0aCA9IF90ZW1wbGF0ZSRnZXRCb3VuZGluZy53aWR0aCwgaGVpZ2h0ID0gX3RlbXBsYXRlJGdldEJvdW5kaW5nLmhlaWdodDtcbiAgICB2YXIgY2xvbmUgPSB0ZW1wbGF0ZS5jbG9uZU5vZGUoKTtcbiAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgMDtcbiAgICB2YXIgc2Nyb2xsTGVmdCA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHwgMDtcbiAgICBjbG9uZS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICBjbG9uZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjbG9uZS5zdHlsZS50b3AgPSB0b3AgKyBzY3JvbGxUb3AgKyBcInB4XCI7XG4gICAgY2xvbmUuc3R5bGUubGVmdCA9IGxlZnQgKyBzY3JvbGxMZWZ0ICsgXCJweFwiO1xuICAgIGNsb25lLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgY2xvbmUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIGNsb25lLnN0eWxlLnRyYW5zZm9ybSA9IFwiXCI7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuICB2YXIgY3JlYXRlQ3VzdG9tRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVDdXN0b21FdmVudDIodHlwZSwgcGFyYW1zKSB7XG4gICAgdmFyIGV2ZW50UGFyYW1zID0gX2V4dGVuZHMoe1xuICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICAgIGRldGFpbDogdm9pZCAwXG4gICAgfSwgcGFyYW1zKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIGV2ZW50UGFyYW1zKTtcbiAgICB9XG4gICAgdmFyIGN1c3RvbUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcbiAgICBjdXN0b21FdmVudC5pbml0Q3VzdG9tRXZlbnQodHlwZSwgZXZlbnRQYXJhbXMuYnViYmxlcywgZXZlbnRQYXJhbXMuY2FuY2VsYWJsZSwgZXZlbnRQYXJhbXMuZGV0YWlsKTtcbiAgICByZXR1cm4gY3VzdG9tRXZlbnQ7XG4gIH07XG4gIHZhciBtZWRpdW1ab29tRXNtID0gZnVuY3Rpb24gbWVkaXVtWm9vbShzZWxlY3Rvcikge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgUHJvbWlzZTIgPSB3aW5kb3cuUHJvbWlzZSB8fCBmdW5jdGlvbiBQcm9taXNlMyhmbikge1xuICAgICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIH1cbiAgICAgIGZuKG5vb3AsIG5vb3ApO1xuICAgIH07XG4gICAgdmFyIF9oYW5kbGVDbGljayA9IGZ1bmN0aW9uIF9oYW5kbGVDbGljazIoZXZlbnQpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0ID09PSBvdmVybGF5KSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpbWFnZXMuaW5kZXhPZih0YXJnZXQpID09PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0b2dnbGUoeyB0YXJnZXQgfSk7XG4gICAgfTtcbiAgICB2YXIgX2hhbmRsZVNjcm9sbCA9IGZ1bmN0aW9uIF9oYW5kbGVTY3JvbGwyKCkge1xuICAgICAgaWYgKGlzQW5pbWF0aW5nIHx8ICFhY3RpdmUub3JpZ2luYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGN1cnJlbnRTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xuICAgICAgaWYgKE1hdGguYWJzKHNjcm9sbFRvcCAtIGN1cnJlbnRTY3JvbGwpID4gem9vbU9wdGlvbnMuc2Nyb2xsT2Zmc2V0KSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2xvc2UsIDE1MCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgX2hhbmRsZUtleVVwID0gZnVuY3Rpb24gX2hhbmRsZUtleVVwMihldmVudCkge1xuICAgICAgdmFyIGtleSA9IGV2ZW50LmtleSB8fCBldmVudC5rZXlDb2RlO1xuICAgICAgaWYgKGtleSA9PT0gXCJFc2NhcGVcIiB8fCBrZXkgPT09IFwiRXNjXCIgfHwga2V5ID09PSAyNykge1xuICAgICAgICBjbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZTIoKSB7XG4gICAgICB2YXIgb3B0aW9uczIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgdmFyIG5ld09wdGlvbnMgPSBvcHRpb25zMjtcbiAgICAgIGlmIChvcHRpb25zMi5iYWNrZ3JvdW5kKSB7XG4gICAgICAgIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZCA9IG9wdGlvbnMyLmJhY2tncm91bmQ7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uczIuY29udGFpbmVyICYmIG9wdGlvbnMyLmNvbnRhaW5lciBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICBuZXdPcHRpb25zLmNvbnRhaW5lciA9IF9leHRlbmRzKHt9LCB6b29tT3B0aW9ucy5jb250YWluZXIsIG9wdGlvbnMyLmNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uczIudGVtcGxhdGUpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gaXNOb2RlKG9wdGlvbnMyLnRlbXBsYXRlKSA/IG9wdGlvbnMyLnRlbXBsYXRlIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zMi50ZW1wbGF0ZSk7XG4gICAgICAgIG5ld09wdGlvbnMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgIH1cbiAgICAgIHpvb21PcHRpb25zID0gX2V4dGVuZHMoe30sIHpvb21PcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgICAgIGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgIGltYWdlLmRpc3BhdGNoRXZlbnQoY3JlYXRlQ3VzdG9tRXZlbnQoXCJtZWRpdW0tem9vbTp1cGRhdGVcIiwge1xuICAgICAgICAgIGRldGFpbDogeyB6b29tIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIHZhciBjbG9uZSA9IGZ1bmN0aW9uIGNsb25lMigpIHtcbiAgICAgIHZhciBvcHRpb25zMiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICByZXR1cm4gbWVkaXVtWm9vbUVzbShfZXh0ZW5kcyh7fSwgem9vbU9wdGlvbnMsIG9wdGlvbnMyKSk7XG4gICAgfTtcbiAgICB2YXIgYXR0YWNoID0gZnVuY3Rpb24gYXR0YWNoMigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzZWxlY3RvcnMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgc2VsZWN0b3JzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0ltYWdlcyA9IHNlbGVjdG9ycy5yZWR1Y2UoZnVuY3Rpb24oaW1hZ2VzQWNjdW11bGF0b3IsIGN1cnJlbnRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gW10uY29uY2F0KGltYWdlc0FjY3VtdWxhdG9yLCBnZXRJbWFnZXNGcm9tU2VsZWN0b3IoY3VycmVudFNlbGVjdG9yKSk7XG4gICAgICB9LCBbXSk7XG4gICAgICBuZXdJbWFnZXMuZmlsdGVyKGZ1bmN0aW9uKG5ld0ltYWdlKSB7XG4gICAgICAgIHJldHVybiBpbWFnZXMuaW5kZXhPZihuZXdJbWFnZSkgPT09IC0xO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihuZXdJbWFnZSkge1xuICAgICAgICBpbWFnZXMucHVzaChuZXdJbWFnZSk7XG4gICAgICAgIG5ld0ltYWdlLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tem9vbS1pbWFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihfcmVmKSB7XG4gICAgICAgIHZhciB0eXBlID0gX3JlZi50eXBlLCBsaXN0ZW5lciA9IF9yZWYubGlzdGVuZXIsIG9wdGlvbnMyID0gX3JlZi5vcHRpb25zO1xuICAgICAgICBuZXdJbWFnZXMuZm9yRWFjaChmdW5jdGlvbihpbWFnZSkge1xuICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB6b29tO1xuICAgIH07XG4gICAgdmFyIGRldGFjaCA9IGZ1bmN0aW9uIGRldGFjaDIoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNlbGVjdG9ycyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIHNlbGVjdG9yc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZS56b29tZWQpIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZXNUb0RldGFjaCA9IHNlbGVjdG9ycy5sZW5ndGggPiAwID8gc2VsZWN0b3JzLnJlZHVjZShmdW5jdGlvbihpbWFnZXNBY2N1bXVsYXRvciwgY3VycmVudFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBbXS5jb25jYXQoaW1hZ2VzQWNjdW11bGF0b3IsIGdldEltYWdlc0Zyb21TZWxlY3RvcihjdXJyZW50U2VsZWN0b3IpKTtcbiAgICAgIH0sIFtdKSA6IGltYWdlcztcbiAgICAgIGltYWdlc1RvRGV0YWNoLmZvckVhY2goZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS16b29tLWltYWdlXCIpO1xuICAgICAgICBpbWFnZS5kaXNwYXRjaEV2ZW50KGNyZWF0ZUN1c3RvbUV2ZW50KFwibWVkaXVtLXpvb206ZGV0YWNoXCIsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgem9vbSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgaW1hZ2VzID0gaW1hZ2VzLmZpbHRlcihmdW5jdGlvbihpbWFnZSkge1xuICAgICAgICByZXR1cm4gaW1hZ2VzVG9EZXRhY2guaW5kZXhPZihpbWFnZSkgPT09IC0xO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIHZhciBvbiA9IGZ1bmN0aW9uIG9uMih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIG9wdGlvbnMyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJtZWRpdW0tem9vbTpcIiArIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zMik7XG4gICAgICB9KTtcbiAgICAgIGV2ZW50TGlzdGVuZXJzLnB1c2goeyB0eXBlOiBcIm1lZGl1bS16b29tOlwiICsgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnM6IG9wdGlvbnMyIH0pO1xuICAgICAgcmV0dXJuIHpvb207XG4gICAgfTtcbiAgICB2YXIgb2ZmID0gZnVuY3Rpb24gb2ZmMih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIG9wdGlvbnMyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgIGltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZWRpdW0tem9vbTpcIiArIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zMik7XG4gICAgICB9KTtcbiAgICAgIGV2ZW50TGlzdGVuZXJzID0gZXZlbnRMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uKGV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuICEoZXZlbnRMaXN0ZW5lci50eXBlID09PSBcIm1lZGl1bS16b29tOlwiICsgdHlwZSAmJiBldmVudExpc3RlbmVyLmxpc3RlbmVyLnRvU3RyaW5nKCkgPT09IGxpc3RlbmVyLnRvU3RyaW5nKCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIHZhciBvcGVuID0gZnVuY3Rpb24gb3BlbjIoKSB7XG4gICAgICB2YXIgX3JlZjIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1swXSA6IHt9LCB0YXJnZXQgPSBfcmVmMi50YXJnZXQ7XG4gICAgICB2YXIgX2FuaW1hdGUgPSBmdW5jdGlvbiBfYW5pbWF0ZTIoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB7XG4gICAgICAgICAgd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgYm90dG9tOiAwXG4gICAgICAgIH07XG4gICAgICAgIHZhciB2aWV3cG9ydFdpZHRoID0gdm9pZCAwO1xuICAgICAgICB2YXIgdmlld3BvcnRIZWlnaHQgPSB2b2lkIDA7XG4gICAgICAgIGlmICh6b29tT3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgICBpZiAoem9vbU9wdGlvbnMuY29udGFpbmVyIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBfZXh0ZW5kcyh7fSwgY29udGFpbmVyLCB6b29tT3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgICAgICAgdmlld3BvcnRXaWR0aCA9IGNvbnRhaW5lci53aWR0aCAtIGNvbnRhaW5lci5sZWZ0IC0gY29udGFpbmVyLnJpZ2h0IC0gem9vbU9wdGlvbnMubWFyZ2luICogMjtcbiAgICAgICAgICAgIHZpZXdwb3J0SGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCAtIGNvbnRhaW5lci50b3AgLSBjb250YWluZXIuYm90dG9tIC0gem9vbU9wdGlvbnMubWFyZ2luICogMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHpvb21Db250YWluZXIgPSBpc05vZGUoem9vbU9wdGlvbnMuY29udGFpbmVyKSA/IHpvb21PcHRpb25zLmNvbnRhaW5lciA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioem9vbU9wdGlvbnMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIHZhciBfem9vbUNvbnRhaW5lciRnZXRCb3UgPSB6b29tQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBfd2lkdGggPSBfem9vbUNvbnRhaW5lciRnZXRCb3Uud2lkdGgsIF9oZWlnaHQgPSBfem9vbUNvbnRhaW5lciRnZXRCb3UuaGVpZ2h0LCBfbGVmdCA9IF96b29tQ29udGFpbmVyJGdldEJvdS5sZWZ0LCBfdG9wID0gX3pvb21Db250YWluZXIkZ2V0Qm91LnRvcDtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IF9leHRlbmRzKHt9LCBjb250YWluZXIsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IF93aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBfaGVpZ2h0LFxuICAgICAgICAgICAgICBsZWZ0OiBfbGVmdCxcbiAgICAgICAgICAgICAgdG9wOiBfdG9wXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmlld3BvcnRXaWR0aCA9IHZpZXdwb3J0V2lkdGggfHwgY29udGFpbmVyLndpZHRoIC0gem9vbU9wdGlvbnMubWFyZ2luICogMjtcbiAgICAgICAgdmlld3BvcnRIZWlnaHQgPSB2aWV3cG9ydEhlaWdodCB8fCBjb250YWluZXIuaGVpZ2h0IC0gem9vbU9wdGlvbnMubWFyZ2luICogMjtcbiAgICAgICAgdmFyIHpvb21UYXJnZXQgPSBhY3RpdmUuem9vbWVkSGQgfHwgYWN0aXZlLm9yaWdpbmFsO1xuICAgICAgICB2YXIgbmF0dXJhbFdpZHRoID0gaXNTdmcoem9vbVRhcmdldCkgPyB2aWV3cG9ydFdpZHRoIDogem9vbVRhcmdldC5uYXR1cmFsV2lkdGggfHwgdmlld3BvcnRXaWR0aDtcbiAgICAgICAgdmFyIG5hdHVyYWxIZWlnaHQgPSBpc1N2Zyh6b29tVGFyZ2V0KSA/IHZpZXdwb3J0SGVpZ2h0IDogem9vbVRhcmdldC5uYXR1cmFsSGVpZ2h0IHx8IHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgICB2YXIgX3pvb21UYXJnZXQkZ2V0Qm91bmRpID0gem9vbVRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdG9wID0gX3pvb21UYXJnZXQkZ2V0Qm91bmRpLnRvcCwgbGVmdCA9IF96b29tVGFyZ2V0JGdldEJvdW5kaS5sZWZ0LCB3aWR0aCA9IF96b29tVGFyZ2V0JGdldEJvdW5kaS53aWR0aCwgaGVpZ2h0ID0gX3pvb21UYXJnZXQkZ2V0Qm91bmRpLmhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlWCA9IE1hdGgubWluKG5hdHVyYWxXaWR0aCwgdmlld3BvcnRXaWR0aCkgLyB3aWR0aDtcbiAgICAgICAgdmFyIHNjYWxlWSA9IE1hdGgubWluKG5hdHVyYWxIZWlnaHQsIHZpZXdwb3J0SGVpZ2h0KSAvIGhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpO1xuICAgICAgICB2YXIgdHJhbnNsYXRlWCA9ICgtbGVmdCArICh2aWV3cG9ydFdpZHRoIC0gd2lkdGgpIC8gMiArIHpvb21PcHRpb25zLm1hcmdpbiArIGNvbnRhaW5lci5sZWZ0KSAvIHNjYWxlO1xuICAgICAgICB2YXIgdHJhbnNsYXRlWSA9ICgtdG9wICsgKHZpZXdwb3J0SGVpZ2h0IC0gaGVpZ2h0KSAvIDIgKyB6b29tT3B0aW9ucy5tYXJnaW4gKyBjb250YWluZXIudG9wKSAvIHNjYWxlO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gXCJzY2FsZShcIiArIHNjYWxlICsgXCIpIHRyYW5zbGF0ZTNkKFwiICsgdHJhbnNsYXRlWCArIFwicHgsIFwiICsgdHJhbnNsYXRlWSArIFwicHgsIDApXCI7XG4gICAgICAgIGFjdGl2ZS56b29tZWQuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICBpZiAoYWN0aXZlLnpvb21lZEhkKSB7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTIoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICBpZiAodGFyZ2V0ICYmIGltYWdlcy5pbmRleE9mKHRhcmdldCkgPT09IC0xKSB7XG4gICAgICAgICAgcmVzb2x2ZSh6b29tKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9oYW5kbGVPcGVuRW5kID0gZnVuY3Rpb24gX2hhbmRsZU9wZW5FbmQyKCkge1xuICAgICAgICAgIGlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBfaGFuZGxlT3BlbkVuZDIpO1xuICAgICAgICAgIGFjdGl2ZS5vcmlnaW5hbC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUN1c3RvbUV2ZW50KFwibWVkaXVtLXpvb206b3BlbmVkXCIsIHtcbiAgICAgICAgICAgIGRldGFpbDogeyB6b29tIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcmVzb2x2ZSh6b29tKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGFjdGl2ZS56b29tZWQpIHtcbiAgICAgICAgICByZXNvbHZlKHpvb20pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgYWN0aXZlLm9yaWdpbmFsID0gdGFyZ2V0O1xuICAgICAgICB9IGVsc2UgaWYgKGltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIF9pbWFnZXMgPSBpbWFnZXM7XG4gICAgICAgICAgYWN0aXZlLm9yaWdpbmFsID0gX2ltYWdlc1swXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHpvb20pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmUub3JpZ2luYWwuZGlzcGF0Y2hFdmVudChjcmVhdGVDdXN0b21FdmVudChcIm1lZGl1bS16b29tOm9wZW5cIiwge1xuICAgICAgICAgIGRldGFpbDogeyB6b29tIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xuICAgICAgICBpc0FuaW1hdGluZyA9IHRydWU7XG4gICAgICAgIGFjdGl2ZS56b29tZWQgPSBjbG9uZVRhcmdldChhY3RpdmUub3JpZ2luYWwpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuICAgICAgICBpZiAoem9vbU9wdGlvbnMudGVtcGxhdGUpIHtcbiAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBpc05vZGUoem9vbU9wdGlvbnMudGVtcGxhdGUpID8gem9vbU9wdGlvbnMudGVtcGxhdGUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHpvb21PcHRpb25zLnRlbXBsYXRlKTtcbiAgICAgICAgICBhY3RpdmUudGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIGFjdGl2ZS50ZW1wbGF0ZS5hcHBlbmRDaGlsZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhY3RpdmUudGVtcGxhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYWN0aXZlLnpvb21lZCk7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwibWVkaXVtLXpvb20tLW9wZW5lZFwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFjdGl2ZS5vcmlnaW5hbC5jbGFzc0xpc3QuYWRkKFwibWVkaXVtLXpvb20taW1hZ2UtLWhpZGRlblwiKTtcbiAgICAgICAgYWN0aXZlLnpvb21lZC5jbGFzc0xpc3QuYWRkKFwibWVkaXVtLXpvb20taW1hZ2UtLW9wZW5lZFwiKTtcbiAgICAgICAgYWN0aXZlLnpvb21lZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2UpO1xuICAgICAgICBhY3RpdmUuem9vbWVkLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIF9oYW5kbGVPcGVuRW5kKTtcbiAgICAgICAgaWYgKGFjdGl2ZS5vcmlnaW5hbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXpvb20tc3JjXCIpKSB7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkID0gYWN0aXZlLnpvb21lZC5jbG9uZU5vZGUoKTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQucmVtb3ZlQXR0cmlidXRlKFwic3Jjc2V0XCIpO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5yZW1vdmVBdHRyaWJ1dGUoXCJzaXplc1wiKTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQuc3JjID0gYWN0aXZlLnpvb21lZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXpvb20tc3JjXCIpO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGdldFpvb21UYXJnZXRTaXplKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuYWJsZSB0byByZWFjaCB0aGUgem9vbSBpbWFnZSB0YXJnZXQgXCIgKyBhY3RpdmUuem9vbWVkSGQuc3JjKTtcbiAgICAgICAgICAgIGFjdGl2ZS56b29tZWRIZCA9IG51bGw7XG4gICAgICAgICAgICBfYW5pbWF0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGdldFpvb21UYXJnZXRTaXplID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoYWN0aXZlLnpvb21lZEhkLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZ2V0Wm9vbVRhcmdldFNpemUpO1xuICAgICAgICAgICAgICBhY3RpdmUuem9vbWVkSGQuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS16b29tLWltYWdlLS1vcGVuZWRcIik7XG4gICAgICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2UpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFjdGl2ZS56b29tZWRIZCk7XG4gICAgICAgICAgICAgIF9hbmltYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMTApO1xuICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZS5vcmlnaW5hbC5oYXNBdHRyaWJ1dGUoXCJzcmNzZXRcIikpIHtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQgPSBhY3RpdmUuem9vbWVkLmNsb25lTm9kZSgpO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5yZW1vdmVBdHRyaWJ1dGUoXCJzaXplc1wiKTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQucmVtb3ZlQXR0cmlidXRlKFwibG9hZGluZ1wiKTtcbiAgICAgICAgICB2YXIgbG9hZEV2ZW50TGlzdGVuZXIgPSBhY3RpdmUuem9vbWVkSGQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhY3RpdmUuem9vbWVkSGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgbG9hZEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgICAgYWN0aXZlLnpvb21lZEhkLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tem9vbS1pbWFnZS0tb3BlbmVkXCIpO1xuICAgICAgICAgICAgYWN0aXZlLnpvb21lZEhkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFjdGl2ZS56b29tZWRIZCk7XG4gICAgICAgICAgICBfYW5pbWF0ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9hbmltYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGNsb3NlID0gZnVuY3Rpb24gY2xvc2UyKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlMihmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIGlmIChpc0FuaW1hdGluZyB8fCAhYWN0aXZlLm9yaWdpbmFsKSB7XG4gICAgICAgICAgcmVzb2x2ZSh6b29tKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9oYW5kbGVDbG9zZUVuZCA9IGZ1bmN0aW9uIF9oYW5kbGVDbG9zZUVuZDIoKSB7XG4gICAgICAgICAgYWN0aXZlLm9yaWdpbmFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtZWRpdW0tem9vbS1pbWFnZS0taGlkZGVuXCIpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYWN0aXZlLnpvb21lZCk7XG4gICAgICAgICAgaWYgKGFjdGl2ZS56b29tZWRIZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhY3RpdmUuem9vbWVkSGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXkpO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWQuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS16b29tLWltYWdlLS1vcGVuZWRcIik7XG4gICAgICAgICAgaWYgKGFjdGl2ZS50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhY3RpdmUudGVtcGxhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgX2hhbmRsZUNsb3NlRW5kMik7XG4gICAgICAgICAgYWN0aXZlLm9yaWdpbmFsLmRpc3BhdGNoRXZlbnQoY3JlYXRlQ3VzdG9tRXZlbnQoXCJtZWRpdW0tem9vbTpjbG9zZWRcIiwge1xuICAgICAgICAgICAgZGV0YWlsOiB7IHpvb20gfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBhY3RpdmUub3JpZ2luYWwgPSBudWxsO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWQgPSBudWxsO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZCA9IG51bGw7XG4gICAgICAgICAgYWN0aXZlLnRlbXBsYXRlID0gbnVsbDtcbiAgICAgICAgICByZXNvbHZlKHpvb20pO1xuICAgICAgICB9O1xuICAgICAgICBpc0FuaW1hdGluZyA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS16b29tLS1vcGVuZWRcIik7XG4gICAgICAgIGFjdGl2ZS56b29tZWQuc3R5bGUudHJhbnNmb3JtID0gXCJcIjtcbiAgICAgICAgaWYgKGFjdGl2ZS56b29tZWRIZCkge1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmUudGVtcGxhdGUpIHtcbiAgICAgICAgICBhY3RpdmUudGVtcGxhdGUuc3R5bGUudHJhbnNpdGlvbiA9IFwib3BhY2l0eSAxNTBtc1wiO1xuICAgICAgICAgIGFjdGl2ZS50ZW1wbGF0ZS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmUub3JpZ2luYWwuZGlzcGF0Y2hFdmVudChjcmVhdGVDdXN0b21FdmVudChcIm1lZGl1bS16b29tOmNsb3NlXCIsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgem9vbSB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgYWN0aXZlLnpvb21lZC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBfaGFuZGxlQ2xvc2VFbmQpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgdG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlMigpIHtcbiAgICAgIHZhciBfcmVmMyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge30sIHRhcmdldCA9IF9yZWYzLnRhcmdldDtcbiAgICAgIGlmIChhY3RpdmUub3JpZ2luYWwpIHtcbiAgICAgICAgcmV0dXJuIGNsb3NlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3Blbih7IHRhcmdldCB9KTtcbiAgICB9O1xuICAgIHZhciBnZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9uczIoKSB7XG4gICAgICByZXR1cm4gem9vbU9wdGlvbnM7XG4gICAgfTtcbiAgICB2YXIgZ2V0SW1hZ2VzID0gZnVuY3Rpb24gZ2V0SW1hZ2VzMigpIHtcbiAgICAgIHJldHVybiBpbWFnZXM7XG4gICAgfTtcbiAgICB2YXIgZ2V0Wm9vbWVkSW1hZ2UgPSBmdW5jdGlvbiBnZXRab29tZWRJbWFnZTIoKSB7XG4gICAgICByZXR1cm4gYWN0aXZlLm9yaWdpbmFsO1xuICAgIH07XG4gICAgdmFyIGltYWdlcyA9IFtdO1xuICAgIHZhciBldmVudExpc3RlbmVycyA9IFtdO1xuICAgIHZhciBpc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgIHZhciBzY3JvbGxUb3AgPSAwO1xuICAgIHZhciB6b29tT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdmFyIGFjdGl2ZSA9IHtcbiAgICAgIG9yaWdpbmFsOiBudWxsLFxuICAgICAgem9vbWVkOiBudWxsLFxuICAgICAgem9vbWVkSGQ6IG51bGwsXG4gICAgICB0ZW1wbGF0ZTogbnVsbFxuICAgICAgLy8gSWYgdGhlIHNlbGVjdG9yIGlzIG9taXR0ZWQsIGl0J3MgcmVwbGFjZWQgYnkgdGhlIG9wdGlvbnNcbiAgICB9O1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc2VsZWN0b3IpID09PSBcIltvYmplY3QgT2JqZWN0XVwiKSB7XG4gICAgICB6b29tT3B0aW9ucyA9IHNlbGVjdG9yO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0b3IgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBhdHRhY2goc2VsZWN0b3IpO1xuICAgIH1cbiAgICB6b29tT3B0aW9ucyA9IF9leHRlbmRzKHtcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIGJhY2tncm91bmQ6IFwiI2ZmZlwiLFxuICAgICAgc2Nyb2xsT2Zmc2V0OiA0MCxcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICAgIHRlbXBsYXRlOiBudWxsXG4gICAgfSwgem9vbU9wdGlvbnMpO1xuICAgIHZhciBvdmVybGF5ID0gY3JlYXRlT3ZlcmxheSh6b29tT3B0aW9ucy5iYWNrZ3JvdW5kKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX2hhbmRsZUNsaWNrKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgX2hhbmRsZUtleVVwKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIF9oYW5kbGVTY3JvbGwpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGNsb3NlKTtcbiAgICB2YXIgem9vbSA9IHtcbiAgICAgIG9wZW4sXG4gICAgICBjbG9zZSxcbiAgICAgIHRvZ2dsZSxcbiAgICAgIHVwZGF0ZSxcbiAgICAgIGNsb25lLFxuICAgICAgYXR0YWNoLFxuICAgICAgZGV0YWNoLFxuICAgICAgb24sXG4gICAgICBvZmYsXG4gICAgICBnZXRPcHRpb25zLFxuICAgICAgZ2V0SW1hZ2VzLFxuICAgICAgZ2V0Wm9vbWVkSW1hZ2VcbiAgICB9O1xuICAgIHJldHVybiB6b29tO1xuICB9O1xuICBmdW5jdGlvbiBzdHlsZUluamVjdChjc3MyLCByZWYpIHtcbiAgICBpZiAocmVmID09PSB2b2lkIDApXG4gICAgICByZWYgPSB7fTtcbiAgICB2YXIgaW5zZXJ0QXQgPSByZWYuaW5zZXJ0QXQ7XG4gICAgaWYgKCFjc3MyIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBzdHlsZS50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgIGlmIChpbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuICAgICAgaWYgKGhlYWQuZmlyc3RDaGlsZCkge1xuICAgICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZSwgaGVhZC5maXJzdENoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzczI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzczIpKTtcbiAgICB9XG4gIH1cbiAgdmFyIGNzcyA9IFwiLm1lZGl1bS16b29tLW92ZXJsYXl7cG9zaXRpb246Zml4ZWQ7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuM3M7d2lsbC1jaGFuZ2U6b3BhY2l0eX0ubWVkaXVtLXpvb20tLW9wZW5lZCAubWVkaXVtLXpvb20tb3ZlcmxheXtjdXJzb3I6cG9pbnRlcjtjdXJzb3I6em9vbS1vdXQ7b3BhY2l0eToxfS5tZWRpdW0tem9vbS1pbWFnZXtjdXJzb3I6cG9pbnRlcjtjdXJzb3I6em9vbS1pbjt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgY3ViaWMtYmV6aWVyKC4yLDAsLjIsMSkhaW1wb3J0YW50fS5tZWRpdW0tem9vbS1pbWFnZS0taGlkZGVue3Zpc2liaWxpdHk6aGlkZGVufS5tZWRpdW0tem9vbS1pbWFnZS0tb3BlbmVke3Bvc2l0aW9uOnJlbGF0aXZlO2N1cnNvcjpwb2ludGVyO2N1cnNvcjp6b29tLW91dDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19XCI7XG4gIHN0eWxlSW5qZWN0KGNzcyk7XG4gIHZhciBtZWRpdW1fem9vbV9lc21fZGVmYXVsdCA9IG1lZGl1bVpvb21Fc207XG5cbiAgLy8gbnMtcGFyYW1zOkBwYXJhbXNcbiAgdmFyIGNvZGVIaWdobGlnaHRpbmcgPSB0cnVlO1xuICB2YXIgaHVnb0Vudmlyb25tZW50ID0gXCJkZXZlbG9wbWVudFwiO1xuICB2YXIgc2VhcmNoRW5hYmxlZCA9IHRydWU7XG5cbiAgLy8gbnMtaHVnbzovdG1wL2h1Z29fY2FjaGVfdGVhbV92b2ljZS9tb2R1bGVzL2ZpbGVjYWNoZS9tb2R1bGVzL3BrZy9tb2QvZ2l0aHViLmNvbS93b3djaGVteS93b3djaGVteS1odWdvLW1vZHVsZXMvd293Y2hlbXkvdjVAdjUuMC4wLTIwMjExMDE3MjIyNjQwLTcyMDFhNGZhOGM0NC9hc3NldHMvanMvd293Y2hlbXktdXRpbHMuanNcbiAgZnVuY3Rpb24gZml4TWVybWFpZChyZW5kZXIgPSBmYWxzZSkge1xuICAgIGxldCBtZXJtYWlkcyA9IFtdO1xuICAgIFtdLnB1c2guYXBwbHkobWVybWFpZHMsIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsYW5ndWFnZS1tZXJtYWlkXCIpKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lcm1haWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWVybWFpZENvZGVFbGVtZW50ID0gbWVybWFpZHNbaV07XG4gICAgICBsZXQgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBuZXdFbGVtZW50LmlubmVySFRNTCA9IG1lcm1haWRDb2RlRWxlbWVudC5pbm5lckhUTUw7XG4gICAgICBuZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtZXJtYWlkXCIpO1xuICAgICAgaWYgKHJlbmRlcikge1xuICAgICAgICB3aW5kb3cubWVybWFpZC5tZXJtYWlkQVBJLnJlbmRlcihgbWVybWFpZC0ke2l9YCwgbmV3RWxlbWVudC50ZXh0Q29udGVudCwgZnVuY3Rpb24oc3ZnQ29kZSkge1xuICAgICAgICAgIG5ld0VsZW1lbnQuaW5uZXJIVE1MID0gc3ZnQ29kZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBtZXJtYWlkQ29kZUVsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlV2l0aChuZXdFbGVtZW50KTtcbiAgICB9XG4gICAgY29uc29sZS5kZWJ1ZyhgUHJvY2Vzc2VkICR7bWVybWFpZHMubGVuZ3RofSBNZXJtYWlkIGNvZGUgYmxvY2tzYCk7XG4gIH1cbiAgZnVuY3Rpb24gc2Nyb2xsUGFyZW50VG9DaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgY29uc3QgcGFyZW50UmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBwYXJlbnRWaWV3YWJsZUFyZWEgPSB7XG4gICAgICBoZWlnaHQ6IHBhcmVudC5jbGllbnRIZWlnaHQsXG4gICAgICB3aWR0aDogcGFyZW50LmNsaWVudFdpZHRoXG4gICAgfTtcbiAgICBjb25zdCBjaGlsZFJlY3QgPSBjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBpc0NoaWxkSW5WaWV3ID0gY2hpbGRSZWN0LnRvcCA+PSBwYXJlbnRSZWN0LnRvcCAmJiBjaGlsZFJlY3QuYm90dG9tIDw9IHBhcmVudFJlY3QudG9wICsgcGFyZW50Vmlld2FibGVBcmVhLmhlaWdodDtcbiAgICBpZiAoIWlzQ2hpbGRJblZpZXcpIHtcbiAgICAgIHBhcmVudC5zY3JvbGxUb3AgPSBjaGlsZFJlY3QudG9wICsgcGFyZW50LnNjcm9sbFRvcCAtIHBhcmVudFJlY3QudG9wO1xuICAgIH1cbiAgfVxuXG4gIC8vIG5zLWh1Z286L3RtcC9odWdvX2NhY2hlX3RlYW1fdm9pY2UvbW9kdWxlcy9maWxlY2FjaGUvbW9kdWxlcy9wa2cvbW9kL2dpdGh1Yi5jb20vd293Y2hlbXkvd293Y2hlbXktaHVnby1tb2R1bGVzL3dvd2NoZW15L3Y1QHY1LjAuMC0yMDIxMTAxNzIyMjY0MC03MjAxYTRmYThjNDQvYXNzZXRzL2pzL3dvd2NoZW15LWFuaW1hdGlvbi5qc1xuICBmdW5jdGlvbiBmYWRlSW4oZWxlbWVudCwgZHVyYXRpb24gPSA2MDApIHtcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGxldCBsYXN0ID0gKy8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpO1xuICAgIGxldCB0aWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAoK2VsZW1lbnQuc3R5bGUub3BhY2l0eSArICgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSAtIGxhc3QpIC8gZHVyYXRpb24pLnRvU3RyaW5nKCk7XG4gICAgICBsYXN0ID0gKy8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpO1xuICAgICAgaWYgKCtlbGVtZW50LnN0eWxlLm9wYWNpdHkgPCAxKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgJiYgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spIHx8IHNldFRpbWVvdXQodGljaywgMTYpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGljaygpO1xuICB9XG5cbiAgLy8gbnMtaHVnbzovdG1wL2h1Z29fY2FjaGVfdGVhbV92b2ljZS9tb2R1bGVzL2ZpbGVjYWNoZS9tb2R1bGVzL3BrZy9tb2QvZ2l0aHViLmNvbS93b3djaGVteS93b3djaGVteS1odWdvLW1vZHVsZXMvd293Y2hlbXkvdjVAdjUuMC4wLTIwMjExMDE3MjIyNjQwLTcyMDFhNGZhOGM0NC9hc3NldHMvanMvd293Y2hlbXktdGhlbWluZy5qc1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIGZ1bmN0aW9uIGdldFRoZW1lTW9kZSgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ3Y1RoZW1lXCIpIHx8IDIpO1xuICB9XG4gIGZ1bmN0aW9uIGNhbkNoYW5nZVRoZW1lKCkge1xuICAgIHJldHVybiBCb29sZWFuKHdpbmRvdy53Yy5kYXJrTGlnaHRFbmFibGVkKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0VGhlbWVWYXJpYXRpb24oKSB7XG4gICAgaWYgKCFjYW5DaGFuZ2VUaGVtZSgpKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKFwiVXNlciB0aGVtaW5nIGRpc2FibGVkLlwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzRGFya1RoZW1lOiB3aW5kb3cud2MuaXNTaXRlVGhlbWVEYXJrLFxuICAgICAgICB0aGVtZU1vZGU6IHdpbmRvdy53Yy5pc1NpdGVUaGVtZURhcmsgPyAxIDogMFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc29sZS5kZWJ1ZyhcIlVzZXIgdGhlbWluZyBlbmFibGVkLlwiKTtcbiAgICBsZXQgaXNEYXJrVGhlbWU7XG4gICAgbGV0IGN1cnJlbnRUaGVtZU1vZGUgPSBnZXRUaGVtZU1vZGUoKTtcbiAgICBjb25zb2xlLmRlYnVnKGBVc2VyJ3MgdGhlbWUgdmFyaWF0aW9uOiAke2N1cnJlbnRUaGVtZU1vZGV9YCk7XG4gICAgc3dpdGNoIChjdXJyZW50VGhlbWVNb2RlKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGlzRGFya1RoZW1lID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBpc0RhcmtUaGVtZSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzKSB7XG4gICAgICAgICAgaXNEYXJrVGhlbWUgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIikubWF0Y2hlcykge1xuICAgICAgICAgIGlzRGFya1RoZW1lID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNEYXJrVGhlbWUgPSB3aW5kb3cud2MuaXNTaXRlVGhlbWVEYXJrO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoaXNEYXJrVGhlbWUgJiYgIWJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFdvd2NoZW15IGRhcmsgdGhlbWVcIik7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJkYXJrXCIpO1xuICAgIH0gZWxzZSBpZiAoIWlzRGFya1RoZW1lICYmIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFdvd2NoZW15IGxpZ2h0IHRoZW1lXCIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGFya1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzRGFya1RoZW1lLFxuICAgICAgdGhlbWVNb2RlOiBjdXJyZW50VGhlbWVNb2RlXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBjaGFuZ2VUaGVtZU1vZGVDbGljayhuZXdNb2RlKSB7XG4gICAgaWYgKCFjYW5DaGFuZ2VUaGVtZSgpKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKFwiQ2Fubm90IGNoYW5nZSB0aGVtZSAtIHVzZXIgdGhlbWluZyBkaXNhYmxlZC5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpc0RhcmtUaGVtZTtcbiAgICBzd2l0Y2ggKG5ld01vZGUpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ3Y1RoZW1lXCIsIFwiMFwiKTtcbiAgICAgICAgaXNEYXJrVGhlbWUgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlVzZXIgY2hhbmdlZCB0aGVtZSB2YXJpYXRpb24gdG8gTGlnaHQuXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ3Y1RoZW1lXCIsIFwiMVwiKTtcbiAgICAgICAgaXNEYXJrVGhlbWUgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiVXNlciBjaGFuZ2VkIHRoZW1lIHZhcmlhdGlvbiB0byBEYXJrLlwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIndjVGhlbWVcIiwgXCIyXCIpO1xuICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXMpIHtcbiAgICAgICAgICBpc0RhcmtUaGVtZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KVwiKS5tYXRjaGVzKSB7XG4gICAgICAgICAgaXNEYXJrVGhlbWUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc0RhcmtUaGVtZSA9IHdpbmRvdy53Yy5pc1NpdGVUaGVtZURhcms7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlVzZXIgY2hhbmdlZCB0aGVtZSB2YXJpYXRpb24gdG8gQXV0by5cIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZW5kZXJUaGVtZVZhcmlhdGlvbihpc0RhcmtUaGVtZSwgbmV3TW9kZSk7XG4gIH1cbiAgZnVuY3Rpb24gc2hvd0FjdGl2ZVRoZW1lKG1vZGUpIHtcbiAgICBsZXQgbGlua0xpZ2h0MiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtc2V0LXRoZW1lLWxpZ2h0XCIpO1xuICAgIGxldCBsaW5rRGFyazIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNldC10aGVtZS1kYXJrXCIpO1xuICAgIGxldCBsaW5rQXV0bzIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNldC10aGVtZS1hdXRvXCIpO1xuICAgIGlmIChsaW5rTGlnaHQyID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBsaW5rTGlnaHQyLmNsYXNzTGlzdC5hZGQoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgbGlua0RhcmsyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgbGlua0F1dG8yLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGxpbmtMaWdodDIuY2xhc3NMaXN0LnJlbW92ZShcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBsaW5rRGFyazIuY2xhc3NMaXN0LmFkZChcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBsaW5rQXV0bzIuY2xhc3NMaXN0LnJlbW92ZShcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxpbmtMaWdodDIuY2xhc3NMaXN0LnJlbW92ZShcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBsaW5rRGFyazIuY2xhc3NMaXN0LnJlbW92ZShcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBsaW5rQXV0bzIuY2xhc3NMaXN0LmFkZChcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyVGhlbWVWYXJpYXRpb24oaXNEYXJrVGhlbWUsIHRoZW1lTW9kZSA9IDIsIGluaXQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNvZGVIbExpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImxpbmtbdGl0bGU9aGwtbGlnaHRdXCIpO1xuICAgIGNvbnN0IGNvZGVIbERhcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibGlua1t0aXRsZT1obC1kYXJrXVwiKTtcbiAgICBjb25zdCBjb2RlSGxFbmFibGVkID0gY29kZUhsTGlnaHQgIT09IG51bGwgfHwgY29kZUhsRGFyayAhPT0gbnVsbDtcbiAgICBjb25zdCBkaWFncmFtRW5hYmxlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzY3JpcHRbdGl0bGU9bWVybWFpZF1cIikgIT09IG51bGw7XG4gICAgc2hvd0FjdGl2ZVRoZW1lKHRoZW1lTW9kZSk7XG4gICAgY29uc3QgdGhlbWVDaGFuZ2VFdmVudCA9IG5ldyBDdXN0b21FdmVudChcIndjVGhlbWVDaGFuZ2VcIiwgeyBkZXRhaWw6IHsgaXNEYXJrVGhlbWU6ICgpID0+IGlzRGFya1RoZW1lIH0gfSk7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCh0aGVtZUNoYW5nZUV2ZW50KTtcbiAgICBpZiAoIWluaXQpIHtcbiAgICAgIGlmIChpc0RhcmtUaGVtZSA9PT0gZmFsc2UgJiYgIWJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSB8fCBpc0RhcmtUaGVtZSA9PT0gdHJ1ZSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNEYXJrVGhlbWUgPT09IGZhbHNlKSB7XG4gICAgICBpZiAoIWluaXQpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihkb2N1bWVudC5ib2R5LnN0eWxlLCB7IG9wYWNpdHk6IDAsIHZpc2liaWxpdHk6IFwidmlzaWJsZVwiIH0pO1xuICAgICAgICBmYWRlSW4oZG9jdW1lbnQuYm9keSwgNjAwKTtcbiAgICAgIH1cbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRhcmtcIik7XG4gICAgICBpZiAoY29kZUhsRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiU2V0dGluZyBITEpTIHRoZW1lIHRvIGxpZ2h0XCIpO1xuICAgICAgICBpZiAoY29kZUhsTGlnaHQpIHtcbiAgICAgICAgICBjb2RlSGxMaWdodC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlSGxEYXJrKSB7XG4gICAgICAgICAgY29kZUhsRGFyay5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaWFncmFtRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiSW5pdGlhbGl6aW5nIE1lcm1haWQgd2l0aCBsaWdodCB0aGVtZVwiKTtcbiAgICAgICAgaWYgKGluaXQpIHtcbiAgICAgICAgICB3aW5kb3cubWVybWFpZC5pbml0aWFsaXplKHsgc3RhcnRPbkxvYWQ6IGZhbHNlLCB0aGVtZTogXCJkZWZhdWx0XCIsIHNlY3VyaXR5TGV2ZWw6IFwibG9vc2VcIiB9KTtcbiAgICAgICAgICBmaXhNZXJtYWlkKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0RhcmtUaGVtZSA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKCFpbml0KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuYm9keS5zdHlsZSwgeyBvcGFjaXR5OiAwLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIiB9KTtcbiAgICAgICAgZmFkZUluKGRvY3VtZW50LmJvZHksIDYwMCk7XG4gICAgICB9XG4gICAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJkYXJrXCIpO1xuICAgICAgaWYgKGNvZGVIbEVuYWJsZWQpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlNldHRpbmcgSExKUyB0aGVtZSB0byBkYXJrXCIpO1xuICAgICAgICBpZiAoY29kZUhsTGlnaHQpIHtcbiAgICAgICAgICBjb2RlSGxMaWdodC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGVIbERhcmspIHtcbiAgICAgICAgICBjb2RlSGxEYXJrLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaWFncmFtRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiSW5pdGlhbGl6aW5nIE1lcm1haWQgd2l0aCBkYXJrIHRoZW1lXCIpO1xuICAgICAgICBpZiAoaW5pdCkge1xuICAgICAgICAgIHdpbmRvdy5tZXJtYWlkLmluaXRpYWxpemUoeyBzdGFydE9uTG9hZDogZmFsc2UsIHRoZW1lOiBcImRhcmtcIiwgc2VjdXJpdHlMZXZlbDogXCJsb29zZVwiIH0pO1xuICAgICAgICAgIGZpeE1lcm1haWQodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gb25NZWRpYVF1ZXJ5TGlzdEV2ZW50KGV2ZW50KSB7XG4gICAgaWYgKCFjYW5DaGFuZ2VUaGVtZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRhcmtNb2RlT24gPSBldmVudC5tYXRjaGVzO1xuICAgIGNvbnNvbGUuZGVidWcoYE9TIGRhcmsgbW9kZSBwcmVmZXJlbmNlIGNoYW5nZWQgdG8gJHtkYXJrTW9kZU9uID8gXCJcXHV7MUYzMTJ9IG9uXCIgOiBcIlxcdTI2MDBcXHVGRTBGIG9mZlwifS5gKTtcbiAgICBsZXQgY3VycmVudFRoZW1lVmFyaWF0aW9uID0gZ2V0VGhlbWVNb2RlKCk7XG4gICAgbGV0IGlzRGFya1RoZW1lO1xuICAgIGlmIChjdXJyZW50VGhlbWVWYXJpYXRpb24gPT09IDIpIHtcbiAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcykge1xuICAgICAgICBpc0RhcmtUaGVtZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIikubWF0Y2hlcykge1xuICAgICAgICBpc0RhcmtUaGVtZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNEYXJrVGhlbWUgPSB3aW5kb3cud2MuaXNTaXRlVGhlbWVEYXJrO1xuICAgICAgfVxuICAgICAgcmVuZGVyVGhlbWVWYXJpYXRpb24oaXNEYXJrVGhlbWUsIGN1cnJlbnRUaGVtZVZhcmlhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gPHN0ZGluPlxuICBjb25zb2xlLmRlYnVnKGBFbnZpcm9ubWVudDogJHtodWdvRW52aXJvbm1lbnR9YCk7XG4gIGZ1bmN0aW9uIGdldE5hdkJhckhlaWdodCgpIHtcbiAgICBsZXQgbmF2YmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZiYXItbWFpblwiKTtcbiAgICBsZXQgbmF2YmFySGVpZ2h0ID0gbmF2YmFyID8gbmF2YmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA6IDA7XG4gICAgY29uc29sZS5kZWJ1ZyhcIk5hdmJhciBoZWlnaHQ6IFwiICsgbmF2YmFySGVpZ2h0KTtcbiAgICByZXR1cm4gbmF2YmFySGVpZ2h0O1xuICB9XG4gIGZ1bmN0aW9uIHNjcm9sbFRvQW5jaG9yKHRhcmdldCwgZHVyYXRpb24gPSAwKSB7XG4gICAgdGFyZ2V0ID0gdHlwZW9mIHRhcmdldCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiID8gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoKSA6IHRhcmdldDtcbiAgICBpZiAoJCh0YXJnZXQpLmxlbmd0aCkge1xuICAgICAgdGFyZ2V0ID0gXCIjXCIgKyAkLmVzY2FwZVNlbGVjdG9yKHRhcmdldC5zdWJzdHJpbmcoMSkpO1xuICAgICAgbGV0IGVsZW1lbnRPZmZzZXQgPSBNYXRoLmNlaWwoJCh0YXJnZXQpLm9mZnNldCgpLnRvcCAtIGdldE5hdkJhckhlaWdodCgpKTtcbiAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwic2Nyb2xsaW5nXCIpO1xuICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZShcbiAgICAgICAge1xuICAgICAgICAgIHNjcm9sbFRvcDogZWxlbWVudE9mZnNldFxuICAgICAgICB9LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJzY3JvbGxpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoXCJDYW5ub3Qgc2Nyb2xsIHRvIHRhcmdldCBgI1wiICsgdGFyZ2V0ICsgXCJgLiBJRCBub3QgZm91bmQhXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBmaXhTY3JvbGxzcHkoKSB7XG4gICAgbGV0ICRib2R5ID0gJChcImJvZHlcIik7XG4gICAgbGV0IGRhdGEgPSAkYm9keS5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIpO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICBkYXRhLl9jb25maWcub2Zmc2V0ID0gZ2V0TmF2QmFySGVpZ2h0KCk7XG4gICAgICAkYm9keS5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIsIGRhdGEpO1xuICAgICAgJGJvZHkuc2Nyb2xsc3B5KFwicmVmcmVzaFwiKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlUXVlcnlQYXJhbXNGcm9tVXJsKCkge1xuICAgIGlmICh3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgIGxldCB1cmxXaXRob3V0U2VhcmNoUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IHBhdGg6IHVybFdpdGhvdXRTZWFyY2hQYXJhbXMgfSwgXCJcIiwgdXJsV2l0aG91dFNlYXJjaFBhcmFtcyk7XG4gICAgfVxuICB9XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCBzY3JvbGxUb0FuY2hvcik7XG4gICQoXCIjbmF2YmFyLW1haW4gbGkubmF2LWl0ZW0gYS5uYXYtbGluaywgLmpzLXNjcm9sbFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgbGV0IGhhc2ggPSB0aGlzLmhhc2g7XG4gICAgaWYgKHRoaXMucGF0aG5hbWUgPT09IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAmJiBoYXNoICYmICQoaGFzaCkubGVuZ3RoICYmICQoXCIuanMtd2lkZ2V0LXBhZ2VcIikubGVuZ3RoID4gMCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBlbGVtZW50T2Zmc2V0ID0gTWF0aC5jZWlsKCQoaGFzaCkub2Zmc2V0KCkudG9wIC0gZ2V0TmF2QmFySGVpZ2h0KCkpO1xuICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZShcbiAgICAgICAge1xuICAgICAgICAgIHNjcm9sbFRvcDogZWxlbWVudE9mZnNldFxuICAgICAgICB9LFxuICAgICAgICA4MDBcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5uYXZiYXItY29sbGFwc2Uuc2hvd1wiLCBmdW5jdGlvbihlKSB7XG4gICAgbGV0IHRhcmdldEVsZW1lbnQgPSAkKGUudGFyZ2V0KS5pcyhcImFcIikgPyAkKGUudGFyZ2V0KSA6ICQoZS50YXJnZXQpLnBhcmVudCgpO1xuICAgIGlmICh0YXJnZXRFbGVtZW50LmlzKFwiYVwiKSAmJiB0YXJnZXRFbGVtZW50LmF0dHIoXCJjbGFzc1wiKSAhPSBcImRyb3Bkb3duLXRvZ2dsZVwiKSB7XG4gICAgICAkKHRoaXMpLmNvbGxhcHNlKFwiaGlkZVwiKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgcHViRmlsdGVycyA9IHt9O1xuICB2YXIgc2VhcmNoUmVnZXg7XG4gIHZhciBmaWx0ZXJWYWx1ZXM7XG4gIHZhciAkZ3JpZF9wdWJzID0gJChcIiNjb250YWluZXItcHVibGljYXRpb25zXCIpO1xuICBpZiAoJGdyaWRfcHVicy5sZW5ndGgpIHtcbiAgICAkZ3JpZF9wdWJzLmlzb3RvcGUoe1xuICAgICAgaXRlbVNlbGVjdG9yOiBcIi5pc290b3BlLWl0ZW1cIixcbiAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcbiAgICAgIG1hc29ucnk6IHtcbiAgICAgICAgLy8gVXNlIEJvb3RzdHJhcCBjb21wYXRpYmxlIGdyaWQgbGF5b3V0LlxuICAgICAgICBjb2x1bW5XaWR0aDogXCIuZ3JpZC1zaXplclwiXG4gICAgICB9LFxuICAgICAgZmlsdGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgbGV0IHNlYXJjaFJlc3VsdHMgPSBzZWFyY2hSZWdleCA/ICR0aGlzLnRleHQoKS5tYXRjaChzZWFyY2hSZWdleCkgOiB0cnVlO1xuICAgICAgICBsZXQgZmlsdGVyUmVzdWx0cyA9IGZpbHRlclZhbHVlcyA/ICR0aGlzLmlzKGZpbHRlclZhbHVlcykgOiB0cnVlO1xuICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0cyAmJiBmaWx0ZXJSZXN1bHRzO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCAkcXVpY2tTZWFyY2ggPSAkKFwiLmZpbHRlci1zZWFyY2hcIikua2V5dXAoXG4gICAgICBkZWJvdW5jZShmdW5jdGlvbigpIHtcbiAgICAgICAgc2VhcmNoUmVnZXggPSBuZXcgUmVnRXhwKCRxdWlja1NlYXJjaC52YWwoKSwgXCJnaVwiKTtcbiAgICAgICAgJGdyaWRfcHVicy5pc290b3BlKCk7XG4gICAgICB9KVxuICAgICk7XG4gICAgJChcIi5wdWItZmlsdGVyc1wiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICBsZXQgZmlsdGVyR3JvdXAgPSAkdGhpc1swXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZpbHRlci1ncm91cFwiKTtcbiAgICAgIHB1YkZpbHRlcnNbZmlsdGVyR3JvdXBdID0gdGhpcy52YWx1ZTtcbiAgICAgIGZpbHRlclZhbHVlcyA9IGNvbmNhdFZhbHVlcyhwdWJGaWx0ZXJzKTtcbiAgICAgICRncmlkX3B1YnMuaXNvdG9wZSgpO1xuICAgICAgaWYgKGZpbHRlckdyb3VwID09PSBcInB1YnR5cGVcIikge1xuICAgICAgICBsZXQgdXJsID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgaWYgKHVybC5zdWJzdHIoMCwgOSkgPT09IFwiLnB1YnR5cGUtXCIpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHVybC5zdWJzdHIoOSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBcIlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVib3VuY2UoZm4sIHRocmVzaG9sZCkge1xuICAgIGxldCB0aW1lb3V0O1xuICAgIHRocmVzaG9sZCA9IHRocmVzaG9sZCB8fCAxMDA7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIGxldCBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGRlbGF5ZWQoKSB7XG4gICAgICAgIGZuLmFwcGx5KF90aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGRlbGF5ZWQsIHRocmVzaG9sZCk7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBjb25jYXRWYWx1ZXMob2JqKSB7XG4gICAgbGV0IHZhbHVlID0gXCJcIjtcbiAgICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xuICAgICAgdmFsdWUgKz0gb2JqW3Byb3BdO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgZnVuY3Rpb24gZmlsdGVyX3B1YmxpY2F0aW9ucygpIHtcbiAgICBpZiAoISRncmlkX3B1YnMubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuICAgIGxldCB1cmxIYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZShcIiNcIiwgXCJcIik7XG4gICAgbGV0IGZpbHRlclZhbHVlID0gXCIqXCI7XG4gICAgaWYgKHVybEhhc2ggIT0gXCJcIiAmJiAhaXNOYU4odXJsSGFzaCkpIHtcbiAgICAgIGZpbHRlclZhbHVlID0gXCIucHVidHlwZS1cIiArIHVybEhhc2g7XG4gICAgfVxuICAgIGxldCBmaWx0ZXJHcm91cCA9IFwicHVidHlwZVwiO1xuICAgIHB1YkZpbHRlcnNbZmlsdGVyR3JvdXBdID0gZmlsdGVyVmFsdWU7XG4gICAgZmlsdGVyVmFsdWVzID0gY29uY2F0VmFsdWVzKHB1YkZpbHRlcnMpO1xuICAgICRncmlkX3B1YnMuaXNvdG9wZSgpO1xuICAgICQoXCIucHVidHlwZS1zZWxlY3RcIikudmFsKGZpbHRlclZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0TWFwKCkge1xuICAgIGlmICgkKFwiI21hcFwiKS5sZW5ndGgpIHtcbiAgICAgIGxldCBtYXBfcHJvdmlkZXIgPSAkKFwiI21hcC1wcm92aWRlclwiKS52YWwoKTtcbiAgICAgIGxldCBsYXQgPSAkKFwiI21hcC1sYXRcIikudmFsKCk7XG4gICAgICBsZXQgbG5nID0gJChcIiNtYXAtbG5nXCIpLnZhbCgpO1xuICAgICAgbGV0IHpvb20gPSBwYXJzZUludCgkKFwiI21hcC16b29tXCIpLnZhbCgpKTtcbiAgICAgIGxldCBhZGRyZXNzID0gJChcIiNtYXAtZGlyXCIpLnZhbCgpO1xuICAgICAgbGV0IGFwaV9rZXkgPSAkKFwiI21hcC1hcGkta2V5XCIpLnZhbCgpO1xuICAgICAgaWYgKG1hcF9wcm92aWRlciA9PT0gXCJnb29nbGVcIikge1xuICAgICAgICBsZXQgbWFwID0gbmV3IEdNYXBzKHtcbiAgICAgICAgICBkaXY6IFwiI21hcFwiLFxuICAgICAgICAgIGxhdCxcbiAgICAgICAgICBsbmcsXG4gICAgICAgICAgem9vbSxcbiAgICAgICAgICB6b29tQ29udHJvbDogdHJ1ZSxcbiAgICAgICAgICB6b29tQ29udHJvbE9wdDoge1xuICAgICAgICAgICAgc3R5bGU6IFwiU01BTExcIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcIlRPUF9MRUZUXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICBtYXBUeXBlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgZ2VzdHVyZUhhbmRsaW5nOiBcImNvb3BlcmF0aXZlXCJcbiAgICAgICAgfSk7XG4gICAgICAgIG1hcC5hZGRNYXJrZXIoe1xuICAgICAgICAgIGxhdCxcbiAgICAgICAgICBsbmcsXG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IHVybCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL3BsYWNlL1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KGFkZHJlc3MpICsgXCIvQFwiICsgbGF0ICsgXCIsXCIgKyBsbmcgKyBcIi9cIjtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKHVybCwgXCJfYmxhbmtcIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aXRsZTogYWRkcmVzc1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBtYXAgPSBuZXcgTC5tYXAoXCJtYXBcIikuc2V0VmlldyhbbGF0LCBsbmddLCB6b29tKTtcbiAgICAgICAgaWYgKG1hcF9wcm92aWRlciA9PT0gXCJtYXBib3hcIiAmJiBhcGlfa2V5Lmxlbmd0aCkge1xuICAgICAgICAgIEwudGlsZUxheWVyKFwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbS9zdHlsZXMvdjEve2lkfS90aWxlcy97en0ve3h9L3t5fT9hY2Nlc3NfdG9rZW49e2FjY2Vzc1Rva2VufVwiLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ01hcCBkYXRhICZjb3B5OyA8YSBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzLCA8YSBocmVmPVwiaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvMi4wL1wiPkNDLUJZLVNBPC9hPiwgSW1hZ2VyeSBcXHhBOSA8YSBocmVmPVwiaHR0cDovL21hcGJveC5jb21cIj5NYXBib3g8L2E+JyxcbiAgICAgICAgICAgIHRpbGVTaXplOiA1MTIsXG4gICAgICAgICAgICBtYXhab29tOiAxOCxcbiAgICAgICAgICAgIHpvb21PZmZzZXQ6IC0xLFxuICAgICAgICAgICAgaWQ6IFwibWFwYm94L3N0cmVldHMtdjExXCIsXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogYXBpX2tleVxuICAgICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTC50aWxlTGF5ZXIoXCJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZ1wiLCB7XG4gICAgICAgICAgICBtYXhab29tOiAxOSxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+J1xuICAgICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hcmtlciA9IEwubWFya2VyKFtsYXQsIGxuZ10pLmFkZFRvKG1hcCk7XG4gICAgICAgIGxldCB1cmwgPSBsYXQgKyBcIixcIiArIGxuZyArIFwiI21hcD1cIiArIHpvb20gKyBcIi9cIiArIGxhdCArIFwiL1wiICsgbG5nICsgXCImbGF5ZXJzPU5cIjtcbiAgICAgICAgbWFya2VyLmJpbmRQb3B1cChcbiAgICAgICAgICBhZGRyZXNzICsgJzxwPjxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9kaXJlY3Rpb25zP2VuZ2luZT1vc3JtX2NhciZyb3V0ZT0nICsgdXJsICsgJ1wiPlJvdXRpbmcgdmlhIE9wZW5TdHJlZXRNYXA8L2E+PC9wPidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHJpbnRMYXRlc3RSZWxlYXNlKHNlbGVjdG9yLCByZXBvKSB7XG4gICAgaWYgKGh1Z29FbnZpcm9ubWVudCA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICQuZ2V0SlNPTihcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvXCIgKyByZXBvICsgXCIvdGFnc1wiKS5kb25lKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgbGV0IHJlbGVhc2UgPSBqc29uWzBdO1xuICAgICAgICAkKHNlbGVjdG9yKS5hcHBlbmQoXCIgXCIgKyByZWxlYXNlLm5hbWUpO1xuICAgICAgfSkuZmFpbChmdW5jdGlvbihqcXhociwgdGV4dFN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgbGV0IGVyciA9IHRleHRTdGF0dXMgKyBcIiwgXCIgKyBlcnJvcjtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXF1ZXN0IEZhaWxlZDogXCIgKyBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRvZ2dsZVNlYXJjaERpYWxvZygpIHtcbiAgICBpZiAoJChcImJvZHlcIikuaGFzQ2xhc3MoXCJzZWFyY2hpbmdcIikpIHtcbiAgICAgICQoXCJbaWQ9c2VhcmNoLXF1ZXJ5XVwiKS5ibHVyKCk7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInNlYXJjaGluZyBjb21wZW5zYXRlLWZvci1zY3JvbGxiYXJcIik7XG4gICAgICByZW1vdmVRdWVyeVBhcmFtc0Zyb21VcmwoKTtcbiAgICAgICQoXCIjZmFuY3lib3gtc3R5bGUtbm9zY3JvbGxcIikucmVtb3ZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghJChcIiNmYW5jeWJveC1zdHlsZS1ub3Njcm9sbFwiKS5sZW5ndGggJiYgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgJChcImhlYWRcIikuYXBwZW5kKFxuICAgICAgICAgICc8c3R5bGUgaWQ9XCJmYW5jeWJveC1zdHlsZS1ub3Njcm9sbFwiPi5jb21wZW5zYXRlLWZvci1zY3JvbGxiYXJ7bWFyZ2luLXJpZ2h0OicgKyAod2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpICsgXCJweDt9PC9zdHlsZT5cIlxuICAgICAgICApO1xuICAgICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImNvbXBlbnNhdGUtZm9yLXNjcm9sbGJhclwiKTtcbiAgICAgIH1cbiAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwic2VhcmNoaW5nXCIpO1xuICAgICAgJChcIi5zZWFyY2gtcmVzdWx0c1wiKS5jc3MoeyBvcGFjaXR5OiAwLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIiB9KS5hbmltYXRlKHsgb3BhY2l0eTogMSB9LCAyMDApO1xuICAgICAgJChcIiNzZWFyY2gtcXVlcnlcIikuZm9jdXMoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbm9ybWFsaXplQ2Fyb3VzZWxTbGlkZUhlaWdodHMoKSB7XG4gICAgJChcIi5jYXJvdXNlbFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGl0ZW1zID0gJChcIi5jYXJvdXNlbC1pdGVtXCIsIHRoaXMpO1xuICAgICAgaXRlbXMuY3NzKFwibWluLWhlaWdodFwiLCAwKTtcbiAgICAgIGxldCBtYXhIZWlnaHQgPSBNYXRoLm1heC5hcHBseShcbiAgICAgICAgbnVsbCxcbiAgICAgICAgaXRlbXMubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XG4gICAgICAgIH0pLmdldCgpXG4gICAgICApO1xuICAgICAgaXRlbXMuY3NzKFwibWluLWhlaWdodFwiLCBtYXhIZWlnaHQgKyBcInB4XCIpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGZpeEh1Z29PdXRwdXQoKSB7XG4gICAgJChcIiNUYWJsZU9mQ29udGVudHNcIikuYWRkQ2xhc3MoXCJuYXYgZmxleC1jb2x1bW5cIik7XG4gICAgJChcIiNUYWJsZU9mQ29udGVudHMgbGlcIikuYWRkQ2xhc3MoXCJuYXYtaXRlbVwiKTtcbiAgICAkKFwiI1RhYmxlT2ZDb250ZW50cyBsaSBhXCIpLmFkZENsYXNzKFwibmF2LWxpbmtcIik7XG4gICAgJChcImlucHV0W3R5cGU9J2NoZWNrYm94J11bZGlzYWJsZWRdXCIpLnBhcmVudHMoXCJ1bFwiKS5hZGRDbGFzcyhcInRhc2stbGlzdFwiKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRTaWJsaW5ncyhlbGVtKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbGVtLnBhcmVudE5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uKHNpYmxpbmcpIHtcbiAgICAgIHJldHVybiBzaWJsaW5nICE9PSBlbGVtO1xuICAgIH0pO1xuICB9XG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGZpeEh1Z29PdXRwdXQoKTtcbiAgICBsZXQgeyBpc0RhcmtUaGVtZSwgdGhlbWVNb2RlIH0gPSBpbml0VGhlbWVWYXJpYXRpb24oKTtcbiAgICByZW5kZXJUaGVtZVZhcmlhdGlvbihpc0RhcmtUaGVtZSwgdGhlbWVNb2RlLCB0cnVlKTtcbiAgICBpZiAoY29kZUhpZ2hsaWdodGluZykge1xuICAgICAgaGxqcy5pbml0SGlnaGxpZ2h0aW5nKCk7XG4gICAgfVxuICAgIGxldCBjaGlsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZG9jcy1saW5rcyAuYWN0aXZlXCIpO1xuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRvY3MtbGlua3NcIik7XG4gICAgaWYgKGNoaWxkICYmIHBhcmVudCkge1xuICAgICAgc2Nyb2xsUGFyZW50VG9DaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICB9XG4gIH0pO1xuICAkKHdpbmRvdykub24oXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xuICAgIGZpeFNjcm9sbHNweSgpO1xuICAgIGxldCBpc290b3BlSW5zdGFuY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0cy1jb250YWluZXJcIik7XG4gICAgbGV0IGlzb3RvcGVJbnN0YW5jZXNDb3VudCA9IGlzb3RvcGVJbnN0YW5jZXMubGVuZ3RoO1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCAmJiBpc290b3BlSW5zdGFuY2VzQ291bnQgPT09IDApIHtcbiAgICAgIHNjcm9sbFRvQW5jaG9yKGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaGFzaCksIDApO1xuICAgIH1cbiAgICBsZXQgY2hpbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRvY3MtdG9jIC5uYXYtbGluay5hY3RpdmVcIik7XG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZG9jcy10b2NcIik7XG4gICAgaWYgKGNoaWxkICYmIHBhcmVudCkge1xuICAgICAgc2Nyb2xsUGFyZW50VG9DaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICB9XG4gICAgbGV0IHpvb21PcHRpb25zID0ge307XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSkge1xuICAgICAgem9vbU9wdGlvbnMuYmFja2dyb3VuZCA9IFwicmdiYSgwLDAsMCwwLjkpXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHpvb21PcHRpb25zLmJhY2tncm91bmQgPSBcInJnYmEoMjU1LDI1NSwyNTUsMC45KVwiO1xuICAgIH1cbiAgICBtZWRpdW1fem9vbV9lc21fZGVmYXVsdChcIltkYXRhLXpvb21hYmxlXVwiLCB6b29tT3B0aW9ucyk7XG4gICAgbGV0IGlzb3RvcGVDb3VudGVyID0gMDtcbiAgICBpc290b3BlSW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaXNvdG9wZUluc3RhbmNlLCBpbmRleCkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhgTG9hZGluZyBJc290b3BlIGluc3RhbmNlICR7aW5kZXh9YCk7XG4gICAgICBsZXQgaXNvO1xuICAgICAgbGV0IGlzb1NlY3Rpb24gPSBpc290b3BlSW5zdGFuY2UuY2xvc2VzdChcInNlY3Rpb25cIik7XG4gICAgICBsZXQgbGF5b3V0ID0gXCJcIjtcbiAgICAgIGlmIChpc29TZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuaXNvdG9wZVwiKS5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1sYXlvdXQtcm93XCIpKSB7XG4gICAgICAgIGxheW91dCA9IFwiZml0Um93c1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5b3V0ID0gXCJtYXNvbnJ5XCI7XG4gICAgICB9XG4gICAgICBsZXQgZGVmYXVsdEZpbHRlciA9IGlzb1NlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5kZWZhdWx0LXByb2plY3QtZmlsdGVyXCIpO1xuICAgICAgbGV0IGZpbHRlclRleHQgPSBcIipcIjtcbiAgICAgIGlmIChkZWZhdWx0RmlsdGVyICE9PSBudWxsKSB7XG4gICAgICAgIGZpbHRlclRleHQgPSBkZWZhdWx0RmlsdGVyLnRleHRDb250ZW50O1xuICAgICAgfVxuICAgICAgY29uc29sZS5kZWJ1ZyhgRGVmYXVsdCBJc290b3BlIGZpbHRlcjogJHtmaWx0ZXJUZXh0fWApO1xuICAgICAgaW1hZ2VzTG9hZGVkKGlzb3RvcGVJbnN0YW5jZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzbyA9IG5ldyBJc290b3BlKGlzb3RvcGVJbnN0YW5jZSwge1xuICAgICAgICAgIGl0ZW1TZWxlY3RvcjogXCIuaXNvdG9wZS1pdGVtXCIsXG4gICAgICAgICAgbGF5b3V0TW9kZTogbGF5b3V0LFxuICAgICAgICAgIG1hc29ucnk6IHtcbiAgICAgICAgICAgIGd1dHRlcjogMjBcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbHRlcjogZmlsdGVyVGV4dFxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGlzb0ZpbHRlckJ1dHRvbnMgPSBpc29TZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC1maWx0ZXJzIGFcIik7XG4gICAgICAgIGlzb0ZpbHRlckJ1dHRvbnMuZm9yRWFjaChcbiAgICAgICAgICAoYnV0dG9uKSA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsZXQgc2VsZWN0b3IgPSBidXR0b24uZ2V0QXR0cmlidXRlKFwiZGF0YS1maWx0ZXJcIik7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBVcGRhdGluZyBJc290b3BlIGZpbHRlciB0byAke3NlbGVjdG9yfWApO1xuICAgICAgICAgICAgaXNvLmFycmFuZ2UoeyBmaWx0ZXI6IHNlbGVjdG9yIH0pO1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGxldCBidXR0b25TaWJsaW5ncyA9IGdldFNpYmxpbmdzKGJ1dHRvbik7XG4gICAgICAgICAgICBidXR0b25TaWJsaW5ncy5mb3JFYWNoKChidXR0b25TaWJsaW5nKSA9PiB7XG4gICAgICAgICAgICAgIGJ1dHRvblNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgYnV0dG9uU2libGluZy5jbGFzc0xpc3QucmVtb3ZlKFwiYWxsXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgaW5jcmVtZW50SXNvdG9wZUNvdW50ZXIoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGluY3JlbWVudElzb3RvcGVDb3VudGVyKCkge1xuICAgICAgaXNvdG9wZUNvdW50ZXIrKztcbiAgICAgIGlmIChpc290b3BlQ291bnRlciA9PT0gaXNvdG9wZUluc3RhbmNlc0NvdW50KSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoYEFsbCBQb3J0Zm9saW8gSXNvdG9wZSBpbnN0YW5jZXMgbG9hZGVkLmApO1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICBzY3JvbGxUb0FuY2hvcihkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhhc2gpLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoJChcIi5wdWItZmlsdGVycy1zZWxlY3RcIikpIHtcbiAgICAgIGZpbHRlcl9wdWJsaWNhdGlvbnMoKTtcbiAgICB9XG4gICAgJChcIi5qcy1jaXRlLW1vZGFsXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBmaWxlbmFtZSA9ICQodGhpcykuYXR0cihcImRhdGEtZmlsZW5hbWVcIik7XG4gICAgICBsZXQgbW9kYWwgPSAkKFwiI21vZGFsXCIpO1xuICAgICAgbW9kYWwuZmluZChcIi5tb2RhbC1ib2R5IGNvZGVcIikubG9hZChmaWxlbmFtZSwgZnVuY3Rpb24ocmVzcG9uc2UsIHN0YXR1cywgeGhyKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgbGV0IG1zZyA9IFwiRXJyb3I6IFwiO1xuICAgICAgICAgICQoXCIjbW9kYWwtZXJyb3JcIikuaHRtbChtc2cgKyB4aHIuc3RhdHVzICsgXCIgXCIgKyB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJChcIi5qcy1kb3dubG9hZC1jaXRlXCIpLmF0dHIoXCJocmVmXCIsIGZpbGVuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtb2RhbC5tb2RhbChcInNob3dcIik7XG4gICAgfSk7XG4gICAgJChcIi5qcy1jb3B5LWNpdGVcIikuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGV0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgIGxldCBjb2RlX25vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsIC5tb2RhbC1ib2R5XCIpO1xuICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShjb2RlX25vZGUpO1xuICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcbiAgICAgIH0gY2F0Y2ggKGUyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3I6IGNpdGF0aW9uIGNvcHkgZmFpbGVkLlwiKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVSYW5nZShyYW5nZSk7XG4gICAgfSk7XG4gICAgaW5pdE1hcCgpO1xuICAgIGxldCBnaXRodWJSZWxlYXNlU2VsZWN0b3IgPSBcIi5qcy1naXRodWItcmVsZWFzZVwiO1xuICAgIGlmICgkKGdpdGh1YlJlbGVhc2VTZWxlY3RvcikubGVuZ3RoID4gMCkge1xuICAgICAgcHJpbnRMYXRlc3RSZWxlYXNlKGdpdGh1YlJlbGVhc2VTZWxlY3RvciwgJChnaXRodWJSZWxlYXNlU2VsZWN0b3IpLmRhdGEoXCJyZXBvXCIpKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgY29uc3QgYm9keTIgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICBpZiAoYm9keTIuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2VhcmNoaW5nXCIpKSB7XG4gICAgICAgICAgdG9nZ2xlU2VhcmNoRGlhbG9nKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiL1wiKSB7XG4gICAgICAgIGxldCBmb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50Lmhhc0ZvY3VzKCkgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB8fCBudWxsO1xuICAgICAgICBsZXQgaXNJbnB1dEZvY3VzZWQgPSBmb2N1c2VkRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgfHwgZm9jdXNlZEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgICAgICBpZiAoc2VhcmNoRW5hYmxlZCAmJiAhaXNJbnB1dEZvY3VzZWQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRvZ2dsZVNlYXJjaERpYWxvZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHNlYXJjaEVuYWJsZWQpIHtcbiAgICAgICQoXCIuanMtc2VhcmNoXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0b2dnbGVTZWFyY2hEaWFsb2coKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpO1xuICB9KTtcbiAgdmFyIGxpbmtMaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtc2V0LXRoZW1lLWxpZ2h0XCIpO1xuICB2YXIgbGlua0RhcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNldC10aGVtZS1kYXJrXCIpO1xuICB2YXIgbGlua0F1dG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNldC10aGVtZS1hdXRvXCIpO1xuICBpZiAobGlua0xpZ2h0ICYmIGxpbmtEYXJrICYmIGxpbmtBdXRvKSB7XG4gICAgbGlua0xpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjaGFuZ2VUaGVtZU1vZGVDbGljaygwKTtcbiAgICB9KTtcbiAgICBsaW5rRGFyay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY2hhbmdlVGhlbWVNb2RlQ2xpY2soMSk7XG4gICAgfSk7XG4gICAgbGlua0F1dG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNoYW5nZVRoZW1lTW9kZUNsaWNrKDIpO1xuICAgIH0pO1xuICB9XG4gIHZhciBkYXJrTW9kZU1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIik7XG4gIGRhcmtNb2RlTWVkaWFRdWVyeS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChldmVudCkgPT4ge1xuICAgIG9uTWVkaWFRdWVyeUxpc3RFdmVudChldmVudCk7XG4gIH0pO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgbm9ybWFsaXplQ2Fyb3VzZWxTbGlkZUhlaWdodHMpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBub3JtYWxpemVDYXJvdXNlbFNsaWRlSGVpZ2h0cyk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgbm9ybWFsaXplQ2Fyb3VzZWxTbGlkZUhlaWdodHMpO1xuICAkKFwiYm9keVwiKS5vbihcIm1vdXNlZW50ZXIgbW91c2VsZWF2ZVwiLCBcIi5kcm9wZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGRyb3Bkb3duID0gJChlLnRhcmdldCkuY2xvc2VzdChcIi5kcm9wZG93blwiKTtcbiAgICB2YXIgbWVudSA9ICQoXCIuZHJvcGRvd24tbWVudVwiLCBkcm9wZG93bik7XG4gICAgZHJvcGRvd24uYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgIG1lbnUuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBkcm9wZG93bltkcm9wZG93bi5pcyhcIjpob3ZlclwiKSA/IFwiYWRkQ2xhc3NcIiA6IFwicmVtb3ZlQ2xhc3NcIl0oXCJzaG93XCIpO1xuICAgICAgbWVudVtkcm9wZG93bi5pcyhcIjpob3ZlclwiKSA/IFwiYWRkQ2xhc3NcIiA6IFwicmVtb3ZlQ2xhc3NcIl0oXCJzaG93XCIpO1xuICAgIH0sIDMwMCk7XG4gIH0pO1xuICB2YXIgcmVzaXplVGltZXI7XG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVyKTtcbiAgICByZXNpemVUaW1lciA9IHNldFRpbWVvdXQoZml4U2Nyb2xsc3B5LCAyMDApO1xuICB9KTtcbn0pKCk7XG4vKiEgbWVkaXVtLXpvb20gMS4wLjYgfCBNSVQgTGljZW5zZSB8IGh0dHBzOi8vZ2l0aHViLmNvbS9mcmFuY29pc2NoYWxpZm91ci9tZWRpdW0tem9vbSAqL1xuXG47XG4oKCkgPT4ge1xuICAvLyBucy1wYXJhbXM6QHBhcmFtc1xuICB2YXIgY29udGVudF90eXBlID0geyBhdXRob3JzOiBcIkF1dGhvcnNcIiwgZXZlbnQ6IFwiRXZlbnRzXCIsIHBvc3Q6IFwiUG9zdHNcIiwgcHJvamVjdDogXCJQcm9qZWN0c1wiLCBwdWJsaWNhdGlvbjogXCJQdWJsaWNhdGlvbnNcIiwgc2xpZGVzOiBcIlNsaWRlc1wiIH07XG4gIHZhciBpMThuID0geyBub19yZXN1bHRzOiBcIk5vIHJlc3VsdHMgZm91bmRcIiwgcGxhY2Vob2xkZXI6IFwiU2VhcmNoLi4uXCIsIHJlc3VsdHM6IFwicmVzdWx0cyBmb3VuZFwiIH07XG4gIHZhciBzZWFyY2hfY29uZmlnID0geyBpbmRleFVSSTogXCIvaW5kZXguanNvblwiLCBtaW5MZW5ndGg6IDEsIHRocmVzaG9sZDogMC4zIH07XG5cbiAgLy8gPHN0ZGluPlxuICB2YXIgZnVzZU9wdGlvbnMgPSB7XG4gICAgc2hvdWxkU29ydDogdHJ1ZSxcbiAgICBpbmNsdWRlTWF0Y2hlczogdHJ1ZSxcbiAgICB0b2tlbml6ZTogdHJ1ZSxcbiAgICB0aHJlc2hvbGQ6IHNlYXJjaF9jb25maWcudGhyZXNob2xkLFxuICAgIC8vIFNldCB0byB+MC4zIGZvciBwYXJzaW5nIGRpYWNyaXRpY3MgYW5kIENKSyBsYW5ndWFnZXMuXG4gICAgbG9jYXRpb246IDAsXG4gICAgZGlzdGFuY2U6IDEwMCxcbiAgICBtYXhQYXR0ZXJuTGVuZ3RoOiAzMixcbiAgICBtaW5NYXRjaENoYXJMZW5ndGg6IHNlYXJjaF9jb25maWcubWluTGVuZ3RoLFxuICAgIC8vIFNldCB0byAxIGZvciBwYXJzaW5nIENKSyBsYW5ndWFnZXMuXG4gICAga2V5czogW1xuICAgICAgeyBuYW1lOiBcInRpdGxlXCIsIHdlaWdodDogMC45OSB9LFxuICAgICAgeyBuYW1lOiBcInN1bW1hcnlcIiwgd2VpZ2h0OiAwLjYgfSxcbiAgICAgIHsgbmFtZTogXCJhdXRob3JzXCIsIHdlaWdodDogMC41IH0sXG4gICAgICB7IG5hbWU6IFwiY29udGVudFwiLCB3ZWlnaHQ6IDAuMiB9LFxuICAgICAgeyBuYW1lOiBcInRhZ3NcIiwgd2VpZ2h0OiAwLjUgfSxcbiAgICAgIHsgbmFtZTogXCJjYXRlZ29yaWVzXCIsIHdlaWdodDogMC41IH1cbiAgICBdXG4gIH07XG4gIHZhciBzdW1tYXJ5TGVuZ3RoID0gNjA7XG4gIGZ1bmN0aW9uIGdldFNlYXJjaFF1ZXJ5KG5hbWUpIHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KChsb2NhdGlvbi5zZWFyY2guc3BsaXQobmFtZSArIFwiPVwiKVsxXSB8fCBcIlwiKS5zcGxpdChcIiZcIilbMF0pLnJlcGxhY2UoL1xcKy9nLCBcIiBcIik7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlVVJMKHVybCkge1xuICAgIGlmIChoaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHsgcGF0aDogdXJsIH0sIFwiXCIsIHVybCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGluaXRTZWFyY2goZm9yY2UsIGZ1c2UpIHtcbiAgICBsZXQgcXVlcnkgPSAkKFwiI3NlYXJjaC1xdWVyeVwiKS52YWwoKTtcbiAgICBpZiAocXVlcnkubGVuZ3RoIDwgMSkge1xuICAgICAgJChcIiNzZWFyY2gtaGl0c1wiKS5lbXB0eSgpO1xuICAgICAgJChcIiNzZWFyY2gtY29tbW9uLXF1ZXJpZXNcIikuc2hvdygpO1xuICAgIH1cbiAgICBpZiAoIWZvcmNlICYmIHF1ZXJ5Lmxlbmd0aCA8IGZ1c2VPcHRpb25zLm1pbk1hdGNoQ2hhckxlbmd0aClcbiAgICAgIHJldHVybjtcbiAgICAkKFwiI3NlYXJjaC1oaXRzXCIpLmVtcHR5KCk7XG4gICAgJChcIiNzZWFyY2gtY29tbW9uLXF1ZXJpZXNcIikuaGlkZSgpO1xuICAgIHNlYXJjaEFjYWRlbWljKHF1ZXJ5LCBmdXNlKTtcbiAgICBsZXQgbmV3VVJMID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyBcIj9xPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSArIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgIHVwZGF0ZVVSTChuZXdVUkwpO1xuICB9XG4gIGZ1bmN0aW9uIHNlYXJjaEFjYWRlbWljKHF1ZXJ5LCBmdXNlKSB7XG4gICAgbGV0IHJlc3VsdHMgPSBmdXNlLnNlYXJjaChxdWVyeSk7XG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgJChcIiNzZWFyY2gtaGl0c1wiKS5hcHBlbmQoJzxoMyBjbGFzcz1cIm10LTBcIj4nICsgcmVzdWx0cy5sZW5ndGggKyBcIiBcIiArIGkxOG4ucmVzdWx0cyArIFwiPC9oMz5cIik7XG4gICAgICBwYXJzZVJlc3VsdHMocXVlcnksIHJlc3VsdHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKFwiI3NlYXJjaC1oaXRzXCIpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInNlYXJjaC1uby1yZXN1bHRzXCI+JyArIGkxOG4ubm9fcmVzdWx0cyArIFwiPC9kaXY+XCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwYXJzZVJlc3VsdHMocXVlcnksIHJlc3VsdHMpIHtcbiAgICAkLmVhY2gocmVzdWx0cywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgbGV0IGNvbnRlbnRfa2V5ID0gdmFsdWUuaXRlbS5zZWN0aW9uO1xuICAgICAgbGV0IGNvbnRlbnQgPSBcIlwiO1xuICAgICAgbGV0IHNuaXBwZXQgPSBcIlwiO1xuICAgICAgbGV0IHNuaXBwZXRIaWdobGlnaHRzID0gW107XG4gICAgICBpZiAoW1wicHVibGljYXRpb25cIiwgXCJldmVudFwiXS5pbmNsdWRlcyhjb250ZW50X2tleSkpIHtcbiAgICAgICAgY29udGVudCA9IHZhbHVlLml0ZW0uc3VtbWFyeTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgPSB2YWx1ZS5pdGVtLmNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoZnVzZU9wdGlvbnMudG9rZW5pemUpIHtcbiAgICAgICAgc25pcHBldEhpZ2hsaWdodHMucHVzaChxdWVyeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkLmVhY2godmFsdWUubWF0Y2hlcywgZnVuY3Rpb24obWF0Y2hLZXksIG1hdGNoVmFsdWUpIHtcbiAgICAgICAgICBpZiAobWF0Y2hWYWx1ZS5rZXkgPT0gXCJjb250ZW50XCIpIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG1hdGNoVmFsdWUuaW5kaWNlc1swXVswXSAtIHN1bW1hcnlMZW5ndGggPiAwID8gbWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzBdIC0gc3VtbWFyeUxlbmd0aCA6IDA7XG4gICAgICAgICAgICBsZXQgZW5kID0gbWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzFdICsgc3VtbWFyeUxlbmd0aCA8IGNvbnRlbnQubGVuZ3RoID8gbWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzFdICsgc3VtbWFyeUxlbmd0aCA6IGNvbnRlbnQubGVuZ3RoO1xuICAgICAgICAgICAgc25pcHBldCArPSBjb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgICAgIHNuaXBwZXRIaWdobGlnaHRzLnB1c2goXG4gICAgICAgICAgICAgIG1hdGNoVmFsdWUudmFsdWUuc3Vic3RyaW5nKFxuICAgICAgICAgICAgICAgIG1hdGNoVmFsdWUuaW5kaWNlc1swXVswXSxcbiAgICAgICAgICAgICAgICBtYXRjaFZhbHVlLmluZGljZXNbMF1bMV0gLSBtYXRjaFZhbHVlLmluZGljZXNbMF1bMF0gKyAxXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChzbmlwcGV0Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgc25pcHBldCArPSB2YWx1ZS5pdGVtLnN1bW1hcnk7XG4gICAgICB9XG4gICAgICBsZXQgdGVtcGxhdGUgPSAkKFwiI3NlYXJjaC1oaXQtZnVzZS10ZW1wbGF0ZVwiKS5odG1sKCk7XG4gICAgICBpZiAoY29udGVudF9rZXkgaW4gY29udGVudF90eXBlKSB7XG4gICAgICAgIGNvbnRlbnRfa2V5ID0gY29udGVudF90eXBlW2NvbnRlbnRfa2V5XTtcbiAgICAgIH1cbiAgICAgIGxldCB0ZW1wbGF0ZURhdGEgPSB7XG4gICAgICAgIGtleSxcbiAgICAgICAgdGl0bGU6IHZhbHVlLml0ZW0udGl0bGUsXG4gICAgICAgIHR5cGU6IGNvbnRlbnRfa2V5LFxuICAgICAgICByZWxwZXJtYWxpbms6IHZhbHVlLml0ZW0ucmVscGVybWFsaW5rLFxuICAgICAgICBzbmlwcGV0XG4gICAgICB9O1xuICAgICAgbGV0IG91dHB1dCA9IHJlbmRlcih0ZW1wbGF0ZSwgdGVtcGxhdGVEYXRhKTtcbiAgICAgICQoXCIjc2VhcmNoLWhpdHNcIikuYXBwZW5kKG91dHB1dCk7XG4gICAgICAkLmVhY2goc25pcHBldEhpZ2hsaWdodHMsIGZ1bmN0aW9uKGhsS2V5LCBobFZhbHVlKSB7XG4gICAgICAgICQoXCIjc3VtbWFyeS1cIiArIGtleSkubWFyayhobFZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlcih0ZW1wbGF0ZSwgZGF0YSkge1xuICAgIGxldCBrZXksIGZpbmQsIHJlO1xuICAgIGZvciAoa2V5IGluIGRhdGEpIHtcbiAgICAgIGZpbmQgPSBcIlxcXFx7XFxcXHtcXFxccypcIiArIGtleSArIFwiXFxcXHMqXFxcXH1cXFxcfVwiO1xuICAgICAgcmUgPSBuZXcgUmVnRXhwKGZpbmQsIFwiZ1wiKTtcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShyZSwgZGF0YVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG4gIGlmICh0eXBlb2YgRnVzZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgJC5nZXRKU09OKHNlYXJjaF9jb25maWcuaW5kZXhVUkksIGZ1bmN0aW9uKHNlYXJjaF9pbmRleCkge1xuICAgICAgbGV0IGZ1c2UgPSBuZXcgRnVzZShzZWFyY2hfaW5kZXgsIGZ1c2VPcHRpb25zKTtcbiAgICAgIGxldCBxdWVyeSA9IGdldFNlYXJjaFF1ZXJ5KFwicVwiKTtcbiAgICAgIGlmIChxdWVyeSkge1xuICAgICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcInNlYXJjaGluZ1wiKTtcbiAgICAgICAgJChcIi5zZWFyY2gtcmVzdWx0c1wiKS5jc3MoeyBvcGFjaXR5OiAwLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIiB9KS5hbmltYXRlKHsgb3BhY2l0eTogMSB9LCAyMDApO1xuICAgICAgICAkKFwiI3NlYXJjaC1xdWVyeVwiKS52YWwocXVlcnkpO1xuICAgICAgICAkKFwiI3NlYXJjaC1xdWVyeVwiKS5mb2N1cygpO1xuICAgICAgICBpbml0U2VhcmNoKHRydWUsIGZ1c2UpO1xuICAgICAgfVxuICAgICAgJChcIiNzZWFyY2gtcXVlcnlcIikua2V5dXAoZnVuY3Rpb24oZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoJC5kYXRhKHRoaXMsIFwic2VhcmNoVGltZXJcIikpO1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgaW5pdFNlYXJjaCh0cnVlLCBmdXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKHRoaXMpLmRhdGEoXG4gICAgICAgICAgICBcInNlYXJjaFRpbWVyXCIsXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpbml0U2VhcmNoKGZhbHNlLCBmdXNlKTtcbiAgICAgICAgICAgIH0sIDI1MClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSkoKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7O0FBQUEsR0FBQyxNQUFNO0FBRUwsUUFBSSxXQUFXLE9BQU8sVUFBVSxTQUFTLFFBQVE7QUFDL0MsZUFBUyxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUN6QyxZQUFJLFNBQVMsVUFBVSxDQUFDO0FBQ3hCLGlCQUFTLE9BQU8sUUFBUTtBQUN0QixjQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxHQUFHLEdBQUc7QUFDckQsbUJBQU8sR0FBRyxJQUFJLE9BQU8sR0FBRztBQUFBLFVBQzFCO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFDQSxhQUFPO0FBQUEsSUFDVDtBQUNBLFFBQUksY0FBYyxTQUFTLGFBQWEsTUFBTTtBQUM1QyxhQUFPLEtBQUssWUFBWTtBQUFBLElBQzFCO0FBQ0EsUUFBSSxhQUFhLFNBQVMsWUFBWSxVQUFVO0FBQzlDLGFBQU8sU0FBUyxVQUFVLGNBQWMsUUFBUTtBQUFBLElBQ2xEO0FBQ0EsUUFBSSxTQUFTLFNBQVMsUUFBUSxVQUFVO0FBQ3RDLGFBQU8s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
